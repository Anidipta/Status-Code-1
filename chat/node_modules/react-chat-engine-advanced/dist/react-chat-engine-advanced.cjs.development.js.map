{"version":3,"file":"react-chat-engine-advanced.cjs.development.js","sources":["../src/actions/messages/getMessages.tsx","../src/actions/messages/newMessage.tsx","../src/actions/messages/readMessage.tsx","../src/actions/chats/getChat.tsx","../src/actions/chats/deleteChat.tsx","../src/actions/chats/getChatsBefore.tsx","../src/actions/chats/getOrCreateChat.tsx","../src/actions/chats/newChat.tsx","../src/actions/people/getPeopleToInvite.tsx","../src/actions/people/invitePerson.tsx","../src/actions/people/removePerson.tsx","../src/components/MultiChatWindow/styles.tsx","../src/components/MultiChatWindow/ChatList/styles.tsx","../src/components/MultiChatWindow/ChatList/ChatForm/styles.tsx","../src/components/Components/Button/styles.tsx","../src/components/Components/Button/index.tsx","../src/components/Components/Input/styles.tsx","../src/components/Components/Input/index.tsx","../src/components/MultiChatWindow/ChatList/ChatForm/index.tsx","../src/components/util/colorMapping.ts","../src/components/Components/Avatar/styles.tsx","../src/components/Components/Avatar/index.tsx","../src/components/MultiChatWindow/ChatList/ChatCard/styles.tsx","../src/components/MultiChatWindow/ChatList/ChatCard/index.tsx","../src/components/Components/RenderTrigger/styles.tsx","../src/components/Components/RenderTrigger/index.tsx","../src/components/util/dateTime.ts","../src/components/Components/Spinner/styles.tsx","../src/components/Components/Spinner/index.tsx","../src/components/MultiChatWindow/ChatList/index.tsx","../src/components/MultiChatWindow/ChatFeed/styles.tsx","../src/components/MultiChatWindow/ChatFeed/ChatHeader/styles.tsx","../src/components/MultiChatWindow/ChatFeed/ChatHeader/index.tsx","../src/components/MultiChatWindow/ChatFeed/MessageList/styles.tsx","../src/components/MultiChatWindow/ChatFeed/MessageList/Message/styles.tsx","../src/components/Components/Dot/styles.tsx","../src/components/Components/Dot/index.tsx","../src/components/MultiChatWindow/ChatFeed/MessageList/Message/DateTime/styles.tsx","../src/components/MultiChatWindow/ChatFeed/MessageList/Message/DateTime/index.tsx","../src/components/Components/File/styles.tsx","../src/components/util/file.tsx","../src/components/Components/File/index.tsx","../src/components/Components/Image/styles.tsx","../src/components/Components/Image/index.tsx","../src/components/MultiChatWindow/ChatFeed/MessageList/Message/index.tsx","../src/components/MultiChatWindow/ChatFeed/MessageList/index.tsx","../src/components/MultiChatWindow/ChatFeed/MessageForm/styles.tsx","../src/components/MultiChatWindow/ChatFeed/MessageForm/AttachmentInput/styles.tsx","../src/components/MultiChatWindow/ChatFeed/MessageForm/AttachmentInput/index.tsx","../src/components/MultiChatWindow/ChatFeed/MessageForm/index.tsx","../src/components/MultiChatWindow/ChatFeed/WelcomeGif/styles.tsx","../src/components/MultiChatWindow/ChatFeed/WelcomeGif/index.tsx","../src/components/MultiChatWindow/ChatFeed/index.tsx","../src/components/MultiChatWindow/ChatSettings/styles.tsx","../src/components/MultiChatWindow/ChatSettings/ChatAvatars/styles.tsx","../src/components/MultiChatWindow/ChatSettings/ChatAvatars/index.tsx","../src/components/MultiChatWindow/ChatSettings/PeopleSettings/styles.tsx","../src/components/Components/Autocomplete/styles.tsx","../src/components/Components/Autocomplete/index.tsx","../src/components/Components/Dropdown/styles.tsx","../src/components/Components/Dropdown/index.tsx","../src/components/MultiChatWindow/ChatSettings/PeopleSettings/index.tsx","../src/components/MultiChatWindow/ChatSettings/PhotosSettings/styles.tsx","../src/components/MultiChatWindow/ChatSettings/PhotosSettings/index.tsx","../src/components/MultiChatWindow/ChatSettings/OptionsSettings/styles.tsx","../src/components/MultiChatWindow/ChatSettings/OptionsSettings/index.tsx","../src/components/MultiChatWindow/ChatSettings/index.tsx","../src/components/MultiChatWindow/index.tsx","../src/hooks/shared.ts","../src/hooks/useMultiChatLogic.tsx","../src/hooks/useSingleChatLogic.tsx","../src/sockets/MultiChatSocket/childSocket.tsx","../src/sockets/MultiChatSocket/index.tsx","../src/sockets/SingleChatSocket/childSocket.tsx","../src/sockets/SingleChatSocket/index.tsx"],"sourcesContent":["import {\n  MessageObject,\n  UserAuthHeaders,\n  ChatAuthHeaders,\n} from '../../interfaces';\n\nimport axios from 'axios';\n\ntype GetMessages = (\n  host: string,\n  headers: UserAuthHeaders | ChatAuthHeaders,\n  chatId: number,\n  messageCount: number,\n  callback: (chatId: number, messages: MessageObject[]) => void\n) => void;\n\nexport const getMessages: GetMessages = (\n  host,\n  headers,\n  chatId,\n  messageCount,\n  callback\n) => {\n  axios\n    .get(`${host}/chats/${chatId}/messages/latest/${messageCount}/`, {\n      headers,\n    })\n    .then((response) => {\n      // props.onGetMessages && props.onGetMessages(chatId, response.data)\n      callback(chatId, response.data);\n    })\n    .catch((error) => {\n      console.log('Fetch Latest Messages Error', error);\n    });\n};\n","import _ from 'lodash';\nimport axios from 'axios';\n\nimport {\n  MessageObject,\n  ChatAuthHeaders,\n  UserAuthHeaders,\n} from '../../interfaces';\n\ntype NewMessage = (\n  host: string,\n  headers: UserAuthHeaders | ChatAuthHeaders,\n  chatId: number | undefined,\n  message: MessageObject,\n  callback: (message: MessageObject) => void\n) => void;\n\nexport const newMessage: NewMessage = (\n  host,\n  headers,\n  chatId,\n  message,\n  callback\n) => {\n  if (!chatId) return;\n\n  const formdata = new FormData();\n  if (message.attachments.length > 0) {\n    for (let i = 0; i < message.attachments.length; i++) {\n      formdata.append(\n        'attachments',\n        message.attachments[i].blob as Blob,\n        message.attachments[i].file as string\n      );\n    }\n  }\n  message.text !== null && formdata.append('text', message.text);\n  formdata.append('created', message.created);\n  formdata.append('sender_username', message.sender_username);\n  formdata.append('custom_json', JSON.stringify({}));\n\n  axios\n    .post(`${host}/chats/${chatId}/messages/`, formdata, { headers })\n\n    .then((response) => {\n      callback && callback(response.data);\n    })\n\n    .catch((error) => {\n      console.log('New Message Error', error);\n    });\n};\n","import axios from 'axios';\nimport { ChatObject, UserAuthHeaders } from '../../interfaces';\n\ntype ReadMessages = (\n  host: string,\n  headers: UserAuthHeaders,\n  chatId: number,\n  messageCount: number,\n  callback: (chat: ChatObject) => void\n) => void;\n\nexport const readMessage: ReadMessages = (\n  host,\n  headers,\n  chatId,\n  messageId,\n  callback\n) => {\n  axios\n    .patch(\n      `${host}/chats/${chatId}/people/`,\n      { last_read: messageId },\n      { headers }\n    )\n\n    .then((response) => {\n      callback && callback(response.data);\n    })\n\n    .catch((error) => {\n      console.log('Read Message Error', error);\n    });\n};\n","import axios from 'axios';\n\nimport { ChatObject, ChatAuthHeaders, UserAuthHeaders } from '../../interfaces';\n\ntype GetChat = (\n  host: string,\n  headers: UserAuthHeaders | ChatAuthHeaders,\n  chatId: number | string,\n  callback: (chat: ChatObject) => void\n) => void;\n\nexport const getChat: GetChat = (host, headers, chatId, callback) => {\n  axios\n    .get(`${host}/chats/${chatId}/`, {\n      headers,\n    })\n\n    .then((response) => {\n      callback && callback(response.data);\n    })\n\n    .catch((error) => {\n      console.log('Get Chat Error', error);\n    });\n};\n","import axios from 'axios';\n\nimport { ChatObject, UserAuthHeaders } from '../../interfaces';\n\ntype DeleteChat = (\n  host: string,\n  headers: UserAuthHeaders,\n  chatId: number | string,\n  callback: (chat: ChatObject) => void\n) => void;\n\nexport const deleteChat: DeleteChat = (host, headers, chatId, callback) => {\n  axios\n    .delete(`${host}/chats/${chatId}/`, {\n      headers,\n    })\n\n    .then((response) => {\n      callback && callback(response.data);\n    })\n\n    .catch((error) => {\n      console.log('Delete Chat Error', error);\n    });\n};\n","import _ from 'lodash';\nimport axios from 'axios';\n\nimport { ChatObject, UserAuthHeaders } from '../../interfaces';\n\ntype GetChatsBefore = (\n  host: string,\n  headers: UserAuthHeaders,\n  before: string,\n  chatCount: number,\n  callback: (chats: Array<ChatObject>) => void\n) => void;\n\nexport const getChatsBefore: GetChatsBefore = (\n  host,\n  headers,\n  before,\n  chatCount,\n  callback\n) => {\n  axios\n    .put(`${host}/chats/latest/${chatCount}/`, { before }, { headers })\n    .then((response) => {\n      // props.onGetChats && props.onGetChats(response.data);\n      callback(response.data);\n    })\n\n    .catch((error) => {\n      console.log('Fetch Chats Before Error', error);\n    });\n};\n","import axios from 'axios';\nimport { ChatObject, UserAuthHeaders } from '../../interfaces';\n\ninterface NewChat {\n  is_direct_chat?: boolean;\n  usernames: string[];\n}\n\nexport const getOrCreateChat = (\n  host: string = 'https://api.chatengine.io',\n  headers: UserAuthHeaders,\n  data: NewChat,\n  callback: (chat: ChatObject) => void\n) => {\n  axios\n    .put(`${host}/chats/`, data, {\n      headers,\n    })\n\n    .then((response) => {\n      callback && callback(response.data);\n    })\n\n    .catch((error) => {\n      console.log('Get or Create Chat Error', error);\n    });\n};\n","import _ from 'lodash';\nimport axios from 'axios';\n\nimport { ChatObject, UserAuthHeaders } from '../../interfaces';\n\ntype NewChat = (\n  host: string,\n  headers: UserAuthHeaders,\n  title: string | undefined,\n  callback: (chat: ChatObject) => void\n) => void;\n\nexport const newChat: NewChat = (host, headers, title, callback) => {\n  if (!title) return;\n\n  axios\n    .post(`${host}/chats/`, { title }, { headers })\n\n    .then((response) => {\n      callback && callback(response.data);\n    })\n\n    .catch((error) => {\n      console.log('New Chat Error', error);\n    });\n};\n","import axios from 'axios';\n\nimport { PersonObject, UserAuthHeaders } from '../../interfaces';\n\ntype GetPeopleToInvite = (\n  host: string,\n  headers: UserAuthHeaders,\n  chatId: number,\n  callback: (peopleToInvite: PersonObject[]) => void\n) => void;\n\nexport const getPeopleToInvite: GetPeopleToInvite = (\n  host,\n  headers,\n  chatId,\n  callback\n) => {\n  axios\n    .get(`${host}/chats/${chatId}/others/`, { headers })\n\n    .then((response) => {\n      // props.onGetOtherPeople && props.onGetOtherPeople(chatId, response.data)\n      callback(response.data);\n    })\n\n    .catch((error) => {\n      console.log('Fetch People to Invite Error', error);\n    });\n};\n","import axios from 'axios';\n\nimport { ChatObject, UserAuthHeaders } from '../../interfaces';\n\ntype InvitePerson = (\n  host: string,\n  headers: UserAuthHeaders,\n  chatId: number,\n  username: string,\n  callback: (chat: ChatObject) => void\n) => void;\n\nexport const invitePerson: InvitePerson = (\n  host,\n  headers,\n  chatId,\n  username,\n  callback\n) => {\n  axios\n    .post(`${host}/chats/${chatId}/people/`, { username }, { headers })\n\n    .then((response) => {\n      callback && callback(response.data);\n    })\n\n    .catch((error) => {\n      console.log('Invite Person Error', error);\n    });\n};\n","import axios from 'axios';\n\nimport { ChatObject, UserAuthHeaders } from '../../interfaces';\n\ntype RemovePerson = (\n  host: string,\n  headers: UserAuthHeaders,\n  chatId: number,\n  username: string,\n  callback: (chat: ChatObject) => void\n) => void;\n\nexport const removePerson: RemovePerson = (\n  host,\n  headers,\n  chatId,\n  username,\n  callback\n) => {\n  axios\n    .put(`${host}/chats/${chatId}/people/`, { username }, { headers })\n\n    .then((response) => {\n      callback && callback(response.data);\n    })\n\n    .catch((error) => {\n      console.log('Remove Person Error', error);\n    });\n};\n","export interface ChatEngineStyles {\n  style?: React.CSSProperties;\n  chatListColumnStyle?: React.CSSProperties;\n  chatFeedColumnStyle?: React.CSSProperties;\n  chatSettingsColumnStyle?: React.CSSProperties;\n  chatListMobileButtonStyle?: React.CSSProperties;\n  chatSettingsMobileButtonStyle?: React.CSSProperties;\n}\n\nexport const styles: ChatEngineStyles = {\n  style: { position: 'relative', height: '100%' },\n  chatListColumnStyle: {\n    height: '100%',\n    overflowY: 'scroll',\n  },\n  chatFeedColumnStyle: {\n    height: '100%',\n    overflowY: 'scroll',\n    borderRight: '1px solid #afafaf',\n    borderLeft: '1px solid #afafaf',\n  },\n  chatSettingsColumnStyle: {\n    height: '100%',\n    overflowY: 'scroll',\n  },\n  chatListMobileButtonStyle: {\n    position: 'absolute',\n    top: '12px',\n    left: '12px',\n  },\n  chatSettingsMobileButtonStyle: {\n    position: 'absolute',\n    top: '12px',\n    right: '12px',\n  },\n};\n","export interface ChatListStyles {\n  style?: React.CSSProperties;\n  loadingMoreChatsStyle?: React.CSSProperties;\n}\n\nexport const styles: ChatListStyles = {\n  style: {\n    width: '100%',\n    height: '100%',\n    maxHeight: '100vh',\n    overflowY: 'scroll',\n    overflowX: 'hidden',\n    backgroundColor: 'white',\n  },\n  loadingMoreChatsStyle: {\n    fontFamily: 'Avenir',\n    textAlign: 'center',\n    backgroundColor: '#e2e2e2',\n    margin: '4px',\n    paddingTop: '14px',\n    paddingBottom: '14px',\n    borderRadius: '4px',\n  },\n};\n","export interface ChatFormStyles {\n  style?: React.CSSProperties;\n  titleStyle?: React.CSSProperties;\n  inputStyle?: React.CSSProperties;\n  buttonStyle?: React.CSSProperties;\n}\n\nexport const styles: ChatFormStyles = {\n  style: {\n    position: 'relative',\n    height: '64px',\n    width: '100%',\n    backgroundColor: 'white',\n  },\n  titleStyle: {\n    // Position\n    position: 'absolute',\n    top: '16px',\n    left: '14px',\n    // Size\n    fontSize: '26px',\n    // Style\n    fontFamily: 'Avenir',\n    fontWeight: 600,\n  },\n  inputStyle: {\n    // Position\n    position: 'absolute',\n    top: '15px',\n    left: '14px',\n    // Size\n    width: 'calc(100% - 28px)',\n  },\n  buttonStyle: {\n    // Position\n    position: 'absolute',\n    top: '15px',\n    right: '14px',\n    // Style\n    fontFamily: 'Avenir',\n    fontWeight: 600,\n  },\n};\n","export interface ButtonStyles {\n  style?: React.CSSProperties;\n  hoveredStyle?: React.CSSProperties;\n}\n\nexport const styles: ButtonStyles = {\n  style: {\n    fontFamily: 'Avenir',\n    color: '#1890ff',\n    border: '1px solid #1890ff',\n    outline: 'none',\n    height: '36px',\n    fontSize: '15px',\n    cursor: 'pointer',\n    padding: '8px 16px',\n    borderRadius: '33px',\n    backgroundColor: 'white',\n    transition: 'all .44s ease',\n    WebkitTransition: 'all .44s ease',\n    MozTransition: 'all .44s ease',\n  },\n  hoveredStyle: { opacity: '0.73' },\n};\n","import React, { useState } from 'react';\n\nimport { Props } from './props';\nimport { styles } from './styles';\n\nexport const Button = (props: Props) => {\n  const { type = 'default' } = props;\n\n  const [hovered, setHovered] = useState<boolean>(false);\n\n  const getTypeStyle = () => {\n    if (type == 'primary') {\n      return primaryStyle;\n    } else if (type === 'danger') {\n      return dangerStyle;\n    } else {\n      return {} as React.CSSProperties;\n    }\n  };\n\n  const typeStyle = getTypeStyle();\n\n  return (\n    <button\n      onClick={props.onClick}\n      className={`ce-${type}-button ${props.className}`}\n      onMouseEnter={() => setHovered(true)}\n      onMouseLeave={() => setHovered(false)}\n      style={{\n        // Default\n        ...styles.style,\n        ...typeStyle,\n        // State\n        ...(hovered ? styles.hoveredStyle : {}),\n        // Props\n        ...props.style,\n        // Props + State\n        ...(hovered ? props.hoveredStyle : {}),\n      }}\n    >\n      {props.children}\n    </button>\n  );\n};\n\nconst primaryStyle = {\n  color: 'white',\n  border: 'none',\n  backgroundColor: '#1890ff',\n} as React.CSSProperties;\n\nconst dangerStyle = {\n  color: '#f5222d',\n  backgroundColor: 'white',\n  border: '1px solid #f5222d',\n} as React.CSSProperties;\n","export interface InputStyles {\n  style?: React.CSSProperties;\n  focusStyle?: React.CSSProperties;\n}\n\nexport const styles: InputStyles = {\n  style: {\n    fontFamily: 'Avenir',\n    height: '36px',\n    fontSize: '15px',\n    outline: 'none',\n    borderRadius: '24px',\n    border: '1px solid #d9d9d9',\n    padding: '0px 12px',\n    boxSizing: 'border-box',\n    transition: 'all .33s ease',\n    WebkitTransition: 'all .33s ease',\n    MozTransition: 'all .33s ease',\n  },\n  focusStyle: {\n    border: '1px solid #1890ff',\n  },\n};\n","import React, { useState, useRef, useEffect } from 'react';\n\nimport { Props } from './props';\nimport { styles } from './styles';\n\nexport const Input = (props: Props) => {\n  const didMountRef = useRef<boolean>(false);\n  const [currentValue, setCurrentValue] = useState<string>('');\n  const [focused, setFocused] = useState<boolean>(false);\n\n  useEffect(() => {\n    if (!didMountRef.current) {\n      didMountRef.current = true;\n\n      if (props.defaultValue) {\n        const event = {\n          target: { value: currentValue },\n        } as React.ChangeEvent<HTMLInputElement>;\n        props.onChange && props.onChange(event);\n        setCurrentValue(props.defaultValue);\n      }\n    }\n  });\n\n  return (\n    <input\n      autoFocus={props.autoFocus}\n      className={`ce-input ce-text-input ${props.className}`}\n      placeholder={props.label}\n      value={typeof props.value === 'string' ? props.value : currentValue}\n      onChange={(e) => {\n        setCurrentValue(e.target.value);\n        props.onChange && props.onChange(e);\n      }}\n      onFocus={(e) => {\n        setFocused(true);\n        props.onFocus && props.onFocus(e);\n      }}\n      onBlur={(e) => {\n        setFocused(false);\n        props.onBlur && props.onBlur(e);\n      }}\n      style={{\n        ...styles.style,\n        ...(focused ? styles.focusStyle : {}),\n        ...props.style,\n        ...(focused ? props.focusStyle : {}),\n      }}\n    />\n  );\n};\n","import React, { useState } from 'react';\n\nimport { ChatFormProps } from './props';\nimport { styles } from './styles';\n\nimport { Button } from '../../../Components/Button';\nimport { Input } from '../../../Components/Input';\n\nexport const ChatForm: React.FC<ChatFormProps> = (props: ChatFormProps) => {\n  const [selected, setSelected] = useState<boolean>(false);\n  const [value, setValue] = useState<string>('');\n\n  const onSubmit = (event: React.SyntheticEvent) => {\n    event.preventDefault();\n    props.onFormSubmit && props.onFormSubmit(value);\n    setValue('');\n  };\n\n  const onChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setValue(event.target.value);\n  };\n\n  if (props.renderChatForm) {\n    return <>{props.renderChatForm(props)}</>;\n  }\n\n  return (\n    <div\n      className=\"ce-chat-form\"\n      style={{\n        ...styles.style,\n        ...props.style,\n      }}\n    >\n      <span\n        className=\"ce-chat-form-title\"\n        style={{\n          ...styles.titleStyle,\n          ...props.titleStyle,\n        }}\n      >\n        My Chats\n      </span>\n\n      <Button\n        style={{\n          ...styles.buttonStyle,\n          ...props.buttonStyle,\n        }}\n        className=\"ce-chat-form-button\"\n        onClick={() => setSelected(true)}\n      >\n        +\n      </Button>\n\n      <form className=\"ce-chat-form-html-form\" onSubmit={onSubmit}>\n        <Input\n          autoFocus\n          value={value}\n          label=\"Chat Title\"\n          className=\"ce-chat-form-input\"\n          style={{\n            ...styles.inputStyle,\n            ...{ visibility: selected ? 'visible' : 'hidden' },\n            ...props.inputStyle,\n          }}\n          onChange={onChange}\n          onBlur={() => setSelected(false)}\n        />\n      </form>\n    </div>\n  );\n};\n","const colors = [\n  '#D64045',\n  '#5B3000',\n  '#00CC99',\n  '#467599',\n  '#1D3354',\n  '#8F250C',\n  '#6153CC',\n  '#961D4E',\n  '#A29F15',\n  '#0CAADC',\n  '#FF5154',\n  '#FA7921',\n  '#688E26',\n  '#550527',\n  '#A10702',\n  '#FF1053',\n  '#6C6EA0',\n  '#100B00',\n]\n\nconst stringToNumber = (str: string) => {\n  let sum = 0\n  for (var i = 0; i < str.length; i++) {\n    sum += str.charCodeAt(i);\n  }\n  return sum\n}\n\nexport const stringToColor = (str: string | undefined) => {\n  if (!str) {\n    return 'black'\n  } else {\n    return colors[stringToNumber(str) % colors.length]\n  }\n}","export interface AvatarStyles {\n  style?: React.CSSProperties;\n  statusStyle?: React.CSSProperties;\n}\n\nexport const styles: AvatarStyles = {\n  style: {\n    // Position\n    position: 'relative',\n    // Size\n    width: '44px',\n    height: '44px',\n    // Style\n    borderRadius: '50%',\n    backgroundRepeat: 'no-repeat',\n    backgroundPosition: 'center',\n    backgroundSize: '48px',\n    // Text Style\n    color: 'white',\n    textAlign: 'center',\n    fontFamily: 'Avenir',\n    fontSize: '15px',\n    lineHeight: '44px',\n    fontWeight: 600,\n  },\n  statusStyle: {\n    // Position\n    position: 'absolute',\n    top: '0px',\n    right: '0px',\n    // Style\n    width: '8px',\n    height: '8px',\n    borderRadius: '100%',\n    border: '2px solid white',\n  },\n};\n","import React, { useEffect, useState } from 'react';\n\nimport { stringToColor } from '../../util/colorMapping';\n\nimport { Props } from './props';\n\nimport { styles } from './styles';\n\nexport const Avatar = (props: Props) => {\n  // Save Copy of URL to avoid flickering\n  const [localAvatar, setLocalAvatar] = useState<string>('');\n  const { username = '', avatarUrl = '' } = props;\n\n  const text = username ? username.substring(0, 2).toUpperCase() : '';\n  const color = stringToColor(username);\n\n  useEffect(() => {\n    const newAvatar = avatarUrl !== null ? avatarUrl : '';\n    if (newAvatar.split('?')[0] !== localAvatar.split('?')[0]) {\n      setLocalAvatar(newAvatar);\n    }\n  });\n\n  const avatarUrlStyle = {\n    backgroundColor: localAvatar.length > 0 ? '#FFFFFF' : color,\n    backgroundImage: localAvatar.length > 0 && `url(${localAvatar})`,\n  } as React.CSSProperties;\n\n  return (\n    <div\n      className={`ce-avatar ${props.className}`}\n      onClick={props.onClick}\n      style={{\n        ...styles.style,\n        ...avatarUrlStyle,\n        ...props.style,\n      }}\n    >\n      {localAvatar.length === 0 && text}\n\n      <div\n        className=\"ce-avatar-status\"\n        style={{\n          ...styles.statusStyle,\n          ...{\n            display: props.isOnline === undefined ? 'none' : 'auto',\n            backgroundColor: props.isOnline ? '#52c41a' : '#f5222d',\n          },\n          ...props.statusStyle,\n        }}\n      />\n    </div>\n  );\n};\n","export interface ChatCardStyle {\n  style?: React.CSSProperties;\n  hoveredStyle?: React.CSSProperties;\n  activeStyle?: React.CSSProperties;\n  avatarStyle?: React.CSSProperties;\n  titleStyle?: React.CSSProperties;\n  notificationStyle?: React.CSSProperties;\n  subtitleStyle?: React.CSSProperties;\n  timeStampStyle?: React.CSSProperties;\n  loadingBarStyle?: React.CSSProperties;\n}\n\nexport const styles: ChatCardStyle = {\n  style: {\n    position: 'relative',\n    height: '76px',\n    borderRadius: '12px',\n    cursor: 'pointer',\n    transition: 'all .44s ease',\n    WebkitTransition: 'all .44s ease',\n    MozTransition: 'all .44s ease',\n  },\n  hoveredStyle: {\n    backgroundColor: '#f5f5f5',\n    border: '0px solid white',\n  },\n  activeStyle: {\n    backgroundColor: '#d9d9d9',\n    border: '0px solid white',\n  },\n  avatarStyle: { position: 'absolute', top: '16px', left: '12px' },\n  titleStyle: {\n    // Position\n    position: 'absolute',\n    top: '12px',\n    left: '68px',\n    // Size\n    width: 'calc(100% - 68px - 32px)',\n    // Font\n    fontWeight: 500,\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    fontFamily: 'Avenir',\n  },\n  notificationStyle: {\n    // Position\n    position: 'absolute',\n    top: 'calc(12px + 6px)',\n    right: '12px',\n    // Style\n    width: '12px',\n    height: '12px',\n    borderRadius: '6px',\n    backgroundColor: '#1890ff',\n    float: 'right',\n  },\n  subtitleStyle: {\n    // Position\n    position: 'absolute',\n    bottom: '12px',\n    left: '68px',\n    // Size\n    width: 'calc(70% - 68px)',\n    // Style\n    color: 'rgba(153, 153, 153, 1)',\n    fontSize: '14px',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    fontFamily: 'Avenir',\n  },\n  timeStampStyle: {\n    // Position\n    position: 'absolute',\n    bottom: '12px',\n    right: '12px',\n    // Size\n    width: '20%',\n    // Style\n    textAlign: 'right',\n    color: 'rgba(153, 153, 153, 1)',\n    fontSize: '14px',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    fontFamily: 'Avenir',\n  },\n  loadingBarStyle: {\n    borderRadius: '4px',\n    backgroundColor: '#e2e2e2',\n    color: '#e2e2e2',\n  },\n};\n","import React, { useState } from 'react';\n\nimport { Avatar } from '../../../Components/Avatar';\n\nimport { stringToColor } from '../../../util/colorMapping';\n\nimport { ChatCardProps } from './props';\nimport { styles } from './styles';\n\nexport const ChatCard: React.FC<ChatCardProps> = (props: ChatCardProps) => {\n  const { title = '', description = '', timeStamp = '' } = props;\n\n  const [hovered, setHovered] = useState<boolean>(false);\n\n  const loadingBarStyle: React.CSSProperties = props.isLoading\n    ? { ...styles.loadingBarStyle, ...props.loadingBarStyle }\n    : {};\n\n  const hasNotificationStyle: React.CSSProperties = props.hasNotification\n    ? {}\n    : { display: 'none' };\n\n  if (props.renderChatCard) {\n    return <>{props.renderChatCard(props)}</>;\n  }\n\n  return (\n    <div\n      onClick={props.onClick}\n      onMouseEnter={() => setHovered(true)}\n      onMouseLeave={() => setHovered(false)}\n      style={{\n        // Default\n        ...styles.style,\n        // State\n        ...(hovered ? styles.hoveredStyle : {}),\n        ...(props.isActive ? styles.activeStyle : {}),\n        // Props\n        ...props.style,\n        // Props + State\n        ...(hovered ? props.hoveredStyle : {}),\n        ...(props.isActive ? props.activeStyle : {}),\n      }}\n      className={`\n        ce-chat-card \n        ${props.isActive && 'ce-active-chat-card'} \n        ${hovered && 'ce-hovered-chat-card'}\n      `}\n    >\n      {props.renderAvatar ? (\n        props.renderAvatar(props)\n      ) : (\n        <Avatar\n          username={props.avatarUsername}\n          avatarUrl={props.avatarUrl}\n          className=\"ce-chat-card-avatar\"\n          style={{\n            ...styles.avatarStyle,\n            ...{\n              backgroundColor: props.isLoading\n                ? '#e2e2e2'\n                : stringToColor(props.avatarUsername),\n            },\n            ...props.avatarStyle,\n          }}\n        />\n      )}\n\n      <div\n        className={`ce-chat-card-title ${\n          props.isLoading && 'ce-chat-card-title-loading ce-chat-card-loading'\n        }`}\n        style={{\n          ...styles.titleStyle,\n          ...loadingBarStyle,\n          ...props.titleStyle,\n        }}\n        id={`ce-chat-card-title-${title}`}\n      >\n        {props.isLoading ? '.' : title}\n      </div>\n\n      <div\n        className={`ce-chat-card-unread ${\n          props.isLoading && 'ce-chat-card-unread-loading ce-chat-card-loading'\n        }`}\n        style={{\n          ...styles.notificationStyle,\n          ...hasNotificationStyle,\n          ...loadingBarStyle,\n          ...props.notificationStyle,\n        }}\n      />\n\n      <div\n        className={`ce-chat-card-subtitle ${\n          props.isLoading &&\n          'ce-chat-card-subtitle-loading ce-chat-card-loading'\n        }`}\n        style={{\n          ...styles.subtitleStyle,\n          ...loadingBarStyle,\n          ...props.subtitleStyle,\n        }}\n      >\n        <div\n          className={`ce-chat-card-subtitle-html ${\n            props.isLoading &&\n            'ce-chat-card-subtitle-html-loading ce-chat-card-loading'\n          }`}\n          dangerouslySetInnerHTML={{\n            __html: props.isLoading ? '.' : description,\n          }}\n        />\n        <style>{`p {margin-block-start: 0px; margin-block-end: 0px;}`}</style>\n      </div>\n\n      <div\n        className={`ce-chat-card-time-stamp ${\n          props.isLoading &&\n          'ce-chat-card-time-stamp-loading ce-chat-card-loading'\n        }`}\n        style={{\n          ...styles.timeStampStyle,\n          ...loadingBarStyle,\n          ...props.timeStampStyle,\n        }}\n      >\n        {props.isLoading ? '.' : timeStamp}\n      </div>\n    </div>\n  );\n};\n","export interface RenderTriggerStyles {\n  style?: React.CSSProperties;\n}\n\nexport const styles: RenderTriggerStyles = {\n  style: {\n    fontFamily: 'Avenir',\n  },\n};\n","import React, { useState, useRef, useEffect } from 'react';\n\nimport { Props } from './props';\n\nimport { styles } from './styles';\n\nexport const RenderTrigger: React.FC<Props> = (props: Props) => {\n  const { children = 'Loading...' } = props;\n\n  const useOnScreen = (ref: React.RefObject<HTMLDivElement>) => {\n    const [isIntersecting, setIntersecting] = useState(false);\n\n    const observer = new IntersectionObserver(([entry]) => {\n      setIntersecting(entry.isIntersecting);\n      if (entry.isIntersecting) {\n        props.onShow && props.onShow();\n      } else {\n        props.onHide && props.onHide();\n      }\n    });\n\n    useEffect(() => {\n      observer.observe(ref.current as Element);\n      return () => observer.disconnect();\n    }, []);\n\n    return isIntersecting;\n  };\n\n  const ref = useRef<HTMLDivElement>(null);\n  ref !== null && useOnScreen(ref);\n\n  return (\n    <div\n      ref={ref}\n      style={{ ...styles.style, ...props.style }}\n      className=\"ce-chat-loader\"\n    >\n      {children}\n    </div>\n  );\n};\n","export const getDateTime = (date: string, timezoneOffset: number = 0) => {\n  date = date.replace(/ /g, 'T');\n\n  const year = date.substr(0, 4);\n  const month = date.substr(5, 2);\n  const day = date.substr(8, 2);\n  const hour = date.substr(11, 2);\n  const minute = date.substr(14, 2);\n  const second = date.substr(17, 2);\n\n  var d = new Date(`${year}-${month}-${day}T${hour}:${minute}:${second}`);\n  d.setHours(d.getHours() + timezoneOffset);\n  return d;\n};\n\nexport function formatTime(dateTime: Date) {\n  var time = dateTime.toLocaleString('en-US');\n  return time.split(' ')[1].slice(0, -3) + ' ' + time.slice(-2);\n}\n\nexport function formatDateTime(dateTime: Date) {\n  return dateTime.toLocaleString('en-US')\n}\n","export interface SpinnerStyles {\n  style?: React.CSSProperties;\n}\n\nexport const styles: SpinnerStyles = {\n  style: { width: '1em', height: '1em' },\n};\n","import React from 'react';\n\nimport { Props } from './props';\nimport { styles } from './styles';\n\nexport const Spinner: React.FC<Props> = (props: Props) => {\n  return (\n    <svg\n      viewBox=\"0 0 1024 1024\"\n      focusable=\"false\"\n      aria-hidden=\"true\"\n      className=\"ce-spinner\"\n      style={{ ...styles.style, ...props.style }}\n    >\n      <path d=\"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z\"></path>\n\n      <style>{`\n      .ce-spinner {\n        animation-name: spin;\n        animation-duration: 950ms;\n        animation-iteration-count: infinite;\n        animation-timing-function: linear; \n      }\n      @keyframes spin {\n        from { transform:rotate(0deg); }\n        to { transform:rotate(360deg); }\n      }\n      `}</style>\n    </svg>\n  );\n};\n","import React from 'react';\n\nimport { ChatListProps } from './props';\nimport { styles } from './styles';\n\nimport { ChatForm } from './ChatForm';\nimport { ChatCard } from './ChatCard';\n\nimport { RenderTrigger } from '../../Components/RenderTrigger';\n\nimport { ChatObject } from '../../../interfaces';\nimport { getDateTime } from '../../util/dateTime';\n\nimport { Spinner } from '../../Components/Spinner';\n\nconst readLastMessage = (username: string, chat: ChatObject) => {\n  return chat.people.some(\n    (chatPerson) =>\n      chatPerson.person.username === username &&\n      chatPerson.last_read === chat.last_message.id\n  );\n};\nconst renderLoading = () => {\n  return [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1].map((_, i) => {\n    return <ChatCard key={`chat_${i}`} isLoading={true} />;\n  });\n};\n\nconst getDescription = (chat: ChatObject): string => {\n  if (!chat.last_message.id) {\n    return 'Say hello!';\n  }\n  if (chat.last_message.text === null) {\n    return `${chat.last_message.attachments.length} attachments`;\n  }\n  return chat.last_message.text;\n};\n\nexport const ChatList: React.FC<ChatListProps> = (props: ChatListProps) => {\n  const { activeChatId = -1 } = props;\n\n  const renderChats = (chats: Array<ChatObject>) => {\n    return chats.map((chat, index) => {\n      const otherPerson =\n        chat &&\n        chat.people.find((person) => person.person.username !== props.username);\n      const title = !chat\n        ? ''\n        : chat.is_direct_chat && otherPerson\n        ? otherPerson.person.username\n        : chat.title;\n      const timeStamp = getDateTime(chat.created, props.timezoneOffset)\n        .toString()\n        .substr(4, 6);\n      const hasNotification = props.username\n        ? !readLastMessage(props.username, chat)\n        : false;\n\n      return (\n        <ChatCard\n          key={`chat_${index}`}\n          chat={chat}\n          title={title}\n          description={getDescription(chat)}\n          timeStamp={timeStamp}\n          isActive={activeChatId === chat.id}\n          hasNotification={hasNotification}\n          onClick={() =>\n            props.onChatCardClick && props.onChatCardClick(chat.id)\n          }\n          avatarUsername={chat.last_message.sender?.username}\n          avatarUrl={\n            chat.last_message.sender\n              ? chat.last_message.sender.avatar\n              : 'https://chat-engine-assets.s3.amazonaws.com/empty-chat-thumb.png'\n          }\n          renderChatCard={props.renderChatCard}\n        />\n      );\n    });\n  };\n\n  if (props.renderChatList) {\n    return <>{props.renderChatList(props)}</>;\n  }\n\n  return (\n    <div\n      className=\"ce-chat-list\"\n      style={{\n        // Default\n        ...styles.style,\n        // State\n        ...(props.isLoading ? { overflowY: 'hidden' } : {}),\n        // Props\n        ...props.style,\n      }}\n    >\n      <ChatForm\n        onFormSubmit={props.onChatFormSubmit}\n        renderChatForm={props.renderChatForm}\n      />\n\n      {props.isLoading ? renderLoading() : renderChats(props.chats)}\n\n      {props.hasMoreChats && (\n        <RenderTrigger\n          onShow={props.onChatLoaderShow}\n          style={{\n            ...styles.loadingMoreChatsStyle,\n            ...props.loadingMoreChatsStyle,\n          }}\n          children={<Spinner />}\n        />\n      )}\n    </div>\n  );\n};\n","export interface ChatFeedStyles {\n  style?: React.CSSProperties;\n  chatHeaderStyle?: React.CSSProperties;\n  messageListStyle?: React.CSSProperties;\n  messageFormStyle?: React.CSSProperties;\n}\n\nexport const styles: ChatFeedStyles = {\n  style: {\n    height: '100%',\n    position: 'relative',\n    backgroundColor: 'white',\n  },\n  chatHeaderStyle: {},\n  messageListStyle: {\n    height: 'calc(100% - 85px - 48px)',\n    overflowY: 'scroll',\n    overflowX: 'hidden',\n    position: 'relative',\n    backgroundColor: 'white',\n  },\n  messageFormStyle: {\n    width: '100%',\n    position: 'absolute',\n    bottom: '0px',\n  },\n};\n","export interface ChatHeaderStyles {\n  style?: React.CSSProperties;\n  titleStyle?: React.CSSProperties;\n  subtitleStyle?: React.CSSProperties;\n  mobileOptionStyle?: React.CSSProperties;\n}\n\nexport const styles: ChatHeaderStyles = {\n  style: {\n    width: '100%',\n    zIndex: 1,\n    backgroundColor: 'rgb(256, 256, 256, 0.92)',\n    padding: '18px 0px',\n    textAlign: 'center',\n    color: 'rgb(24, 144, 255)',\n    overflowX: 'hidden',\n  },\n  titleStyle: {\n    width: '100%',\n    fontFamily: 'Avenir',\n    fontSize: '24px',\n    fontWeight: 600,\n  },\n  subtitleStyle: {\n    width: '100%',\n    fontFamily: 'Avenir',\n    fontSize: '12px',\n  },\n  mobileOptionStyle: {\n    width: '100%',\n    top: '32px',\n    textAlign: 'center',\n    color: 'rgb(24, 144, 255)',\n    overflow: 'hidden',\n  },\n};\n","import React from 'react';\n\nimport { ChatHeaderProps } from './props';\nimport { styles } from './styles';\n\nimport { Row, Col, setConfiguration } from 'react-grid-system';\n\nsetConfiguration({ maxScreenClass: 'xl', gutterWidth: 0 });\n\nexport const ChatHeader: React.FC<ChatHeaderProps> = (\n  props: ChatHeaderProps\n) => {\n  const { id = '', title = '', description = '' } = props;\n\n  if (props.renderChatHeader) {\n    return <>{props.renderChatHeader(props)}</>;\n  }\n\n  return (\n    <Row className=\"ce-chat-header\" style={{ ...styles.style, ...props.style }}>\n      <Col\n        xs={2}\n        sm={0}\n        className=\"ce-chat-header-mobile-option\"\n        style={{\n          ...styles.mobileOptionStyle,\n          ...{ left: '6px' },\n          ...props.mobileOptionStyle,\n        }}\n      ></Col>\n\n      <div\n        id={`ce-chat-feed-title-${id}`}\n        className=\"ce-chat-header-title\"\n        style={{\n          ...styles.titleStyle,\n          ...props.titleStyle,\n        }}\n      >\n        {title}\n      </div>\n\n      <div\n        className=\"ce-chat-header-subtitle\"\n        style={{\n          ...styles.subtitleStyle,\n          ...props.subtitleStyle,\n        }}\n      >\n        {description}\n      </div>\n\n      <Col\n        xs={2}\n        sm={0}\n        className=\"ce-chat-header-mobile-option\"\n        style={{\n          ...styles.mobileOptionStyle,\n          ...{ right: '6px' },\n          ...props.mobileOptionStyle,\n        }}\n      ></Col>\n    </Row>\n  );\n};\n","export interface MessageListStyles {\n  style?: React.CSSProperties;\n  messageStyle?: React.CSSProperties;\n}\n\nexport const styles: MessageListStyles = {\n  style: {},\n  messageStyle: {},\n};\n","export interface MessageStyle {\n  style?: React.CSSProperties;\n  dateTimeStyle?: React.CSSProperties;\n  senderUsernameStyle?: React.CSSProperties;\n  attachmentsStyle?: React.CSSProperties;\n  attachmentsImageStyle?: React.CSSProperties;\n  attachmentsFileStyle?: React.CSSProperties;\n  bodyStyle?: React.CSSProperties;\n  timeTagStyle?: React.CSSProperties;\n  bubbleStyle?: React.CSSProperties;\n  readsStyle?: React.CSSProperties;\n  readStyle?: React.CSSProperties;\n  avatarStyle?: React.CSSProperties;\n}\n\nexport const theirStyles: MessageStyle = {\n  style: { width: '100%', position: 'relative' },\n  senderUsernameStyle: {\n    width: 'calc(100% - 64px)',\n    fontFamily: 'Avenir',\n    paddingLeft: '62px',\n    paddingBottom: '2px',\n    color: 'rgba(0, 0, 0, .40)',\n    fontSize: '15px',\n  },\n  attachmentsStyle: {\n    display: 'auto',\n    paddingLeft: '48px',\n    width: 'calc(100% - 48px)',\n  },\n  bodyStyle: {\n    position: 'relative',\n    width: 'calc(100% - 2px)',\n  },\n  timeTagStyle: {\n    marginLeft: '4px',\n    fontSize: '14px',\n    fontFamily: 'Avenir',\n    color: 'rgba(0, 0, 0, 0.4)',\n    // CSS Transitions\n    transition: 'all .15s ease',\n    WebkitTransition: 'all .15s ease',\n    MozTransition: 'all .15s ease',\n  },\n  bubbleStyle: {\n    cursor: 'pointer',\n    display: 'inline-block',\n    color: 'black',\n    padding: '12px',\n    marginLeft: '48px',\n    fontSize: '15px',\n    fontFamily: 'Avenir',\n    whiteSpace: 'pre-line',\n    backgroundColor: '#f1f0f0',\n    overflowWrap: 'anywhere',\n    maxWidth: 'calc(100% - 100px - 48px)',\n    // CSS Transitions\n    transition: 'all .33s ease',\n    WebkitTransition: 'all .33s ease',\n    MozTransition: 'all .33s ease',\n  },\n  readsStyle: {\n    marginLeft: '48px',\n    width: 'calc(100% - 50px)',\n  },\n  readStyle: {\n    marginLeft: '4px',\n    float: 'left',\n  },\n  avatarStyle: {\n    position: 'absolute',\n    bottom: '0px',\n    left: '2px',\n  },\n};\n\nexport const myStyles: MessageStyle = {\n  style: {\n    width: '100%',\n    textAlign: 'right',\n  },\n  senderUsernameStyle: {\n    display: 'none',\n  },\n  attachmentsStyle: {\n    display: 'auto',\n    marginLeft: '48px',\n    width: 'calc(100% - 48px)',\n  },\n  bodyStyle: {\n    position: 'relative',\n    width: 'calc(100% - 2px)',\n  },\n  timeTagStyle: {\n    marginRight: '4px',\n    fontSize: '14px',\n    fontFamily: 'Avenir',\n    color: 'rgb(24, 144, 255)',\n    // CSS Transitions\n    transition: 'all .15s ease',\n    WebkitTransition: 'all .15s ease',\n    MozTransition: 'all .15s ease',\n  },\n  bubbleStyle: {\n    color: 'white',\n    display: 'inline-block',\n    backgroundColor: '#1890ff',\n    cursor: 'pointer',\n    textAlign: 'left',\n    // Stay right but render text\n    padding: '12px',\n    fontSize: '15px',\n    fontFamily: 'Avenir',\n    whiteSpace: 'pre-line',\n    overflowWrap: 'anywhere',\n    maxWidth: 'calc(100% - 100px)',\n    // CSS Transitions\n    transition: 'all .33s ease',\n    WebkitTransition: 'all .33s ease',\n    MozTransition: 'all .33s ease',\n  },\n  readsStyle: { width: '100%' },\n  readStyle: { float: 'right', marginLeft: '4px' },\n  avatarStyle: { display: 'none' },\n};\n","export interface DotStyles {\n  style?: React.CSSProperties;\n}\n\nexport const styles: DotStyles = {\n  style: {\n    borderRadius: '13px',\n    textAlign: 'center',\n    backgroundRepeat: 'no-repeat',\n    backgroundPosition: 'center',\n    backgroundSize: '14px',\n    // CSS Transitions\n    transition: 'all .33s ease',\n    WebkitTransition: 'all .33s ease',\n    MozTransition: 'all .33s ease',\n  },\n};\n","import React, { useEffect, useState } from 'react';\nimport { stringToColor } from '../../util/colorMapping';\nimport { Props } from './props';\nimport { styles } from './styles';\n\nexport const Dot = (props: Props) => {\n  const [localAvatar, setLocalAvatar] = useState<string>('');\n  const { username = '', isVisible = true, avatarUrl = '' } = props;\n\n  const color = stringToColor(username);\n\n  useEffect(() => {\n    const newAvatar = avatarUrl !== null ? avatarUrl : '';\n    if (newAvatar.split('?')[0] !== localAvatar.split('?')[0]) {\n      setLocalAvatar(newAvatar);\n    }\n  });\n\n  return (\n    <div\n      className=\"ce-avatar-dot\"\n      style={{\n        ...styles.style,\n        ...{\n          backgroundColor: localAvatar.length > 0 ? 'white' : color,\n          backgroundImage: localAvatar.length > 0 ? `url(${localAvatar})` : '',\n          width: isVisible ? '13px' : '0px',\n          height: isVisible ? '13px' : '0px',\n        },\n        ...props.style,\n      }}\n    />\n  );\n};\n","export interface DateTimeStyles {\n  style?: React.CSSProperties;\n}\n\nexport const styles: DateTimeStyles = {\n  style: {\n    width: '100%',\n    fontFamily: 'Avenir',\n    textAlign: 'center',\n    paddingTop: '4px',\n    paddingBottom: '10px',\n    fontSize: '15px',\n    color: 'rgba(0, 0, 0, .40)',\n  },\n};\n","import React from 'react';\n\nimport { DateTimeProps } from './props';\nimport { styles } from './styles';\n\nimport { formatDateTime, getDateTime } from '../../../../../util/dateTime';\n\nexport const DateTime: React.FC<DateTimeProps> = (props: DateTimeProps) => {\n  const { offset = 0 } = props;\n\n  return (\n    <div\n      className=\"ce-message-date-text\"\n      style={{ ...styles.style, ...props.style }}\n    >\n      {formatDateTime(getDateTime(props.created, offset))}\n    </div>\n  );\n};\n","export interface FileStyles {\n  style?: React.CSSProperties;\n  hoveredStyle?: React.CSSProperties;\n}\n\nexport const styles: FileStyles = {\n  style: {\n    cursor: 'pointer',\n    fontFamily: 'Avenir',\n    padding: '12px',\n    borderRadius: '14px',\n    display: 'inline-block',\n    marginRight: '2px',\n    marginBottom: '4px',\n    color: '#434343',\n    backgroundColor: 'white',\n    border: '1px solid #434343',\n    transition: 'all .33s ease',\n    WebkitTransition: 'all .33s ease',\n    MozTransition: 'all .33s ease',\n  },\n  hoveredStyle: { border: '1px solid #1890ff' },\n};\n","const images = ['jpg', 'jpeg', 'png', 'gif', 'tiff'];\n\nexport const isImage = (fileName: string) => {\n  const dotSplit = fileName.split('.');\n  return (\n    dotSplit.length > 0 &&\n    images.indexOf(dotSplit[dotSplit.length - 1].toLowerCase()) !== -1\n  );\n};\n\nexport const getFileName = (fileUrl: string) => {\n  const slashSplit = fileUrl.split('/');\n  const nameAndHash = slashSplit[slashSplit.length - 1];\n  return nameAndHash.split('?')[0];\n};\n\nexport const isImageFromFilePath = (fileUrl: string) => {\n  return isImage(getFileName(fileUrl));\n};\n","import React, { useState } from 'react';\n\nimport { Props } from './props';\nimport { styles } from './styles';\n\nimport { getFileName } from '../../util/file';\n\nconst urlOrLoading = (url: string | undefined) => {\n  return url ? getFileName(url) : 'Loading...';\n};\n\nexport const File: React.FC<Props> = (props: Props) => {\n  const [isHovered, setIsHovered] = useState<boolean>(false);\n\n  return (\n    <div\n      onMouseEnter={() => setIsHovered(true)}\n      onMouseLeave={() => setIsHovered(false)}\n      onClick={() =>\n        props.url && typeof window !== 'undefined' && window.open(props.url)\n      }\n      style={{\n        // Default\n        ...styles.style,\n        ...(!props.url ? { border: '1px solid grey' } : {}),\n        // State\n        ...(isHovered ? styles.hoveredStyle : {}),\n        // Props\n        ...props.style,\n        // Props + State\n        ...(isHovered ? props.hoveredStyle : {}),\n      }}\n      className={`ce-file ${props.className}`}\n    >\n      {props.fileName ? props.fileName : `📄 ${urlOrLoading(props.url)}`}\n    </div>\n  );\n};\n","export interface ImageStyles {\n  style?: React.CSSProperties;\n  hoveredStyle?: React.CSSProperties;\n}\n\nexport const styles: ImageStyles = {\n  style: {\n    cursor: 'pointer',\n    height: '30vw',\n    width: '30vw',\n    maxHeight: '200px',\n    maxWidth: '200px',\n    minHeight: '100px',\n    minWidth: '100px',\n    padding: '2px',\n    objectFit: 'cover',\n    borderRadius: '0.3em',\n    backgroundColor: 'white',\n    border: '1px solid #434343',\n    transition: 'all .33s ease',\n    WebkitTransition: 'all .33s ease',\n    MozTransition: 'all .33s ease',\n  },\n  hoveredStyle: { border: '1px solid #1890ff' },\n};\n","import React, { useState } from 'react';\n\nimport { Props } from './props';\nimport { styles } from './styles';\n\nexport const Image: React.FC<Props> = (props: Props) => {\n  const { url } = props;\n  const [isHovered, setIsHovered] = useState<boolean>(false);\n  const loadingUrl = 'https://chat-engine-assets.s3.amazonaws.com/loading.gif';\n\n  return (\n    <img\n      onMouseEnter={() => setIsHovered(true)}\n      onMouseLeave={() => setIsHovered(false)}\n      src={url ? url : loadingUrl}\n      alt={url ? url : loadingUrl}\n      onClick={() => url && typeof window !== 'undefined' && window.open(url)}\n      style={{\n        // Default\n        ...styles.style,\n        // State\n        ...(isHovered ? styles.hoveredStyle : {}),\n        // Props\n        ...props.style,\n        // Props + State\n        ...(isHovered ? props.hoveredStyle : {}),\n      }}\n      className={`ce-image ${props.className}`}\n    />\n  );\n};\n","import React, { useState } from 'react';\n\nimport { MessageProps } from './props';\nimport { myStyles, theirStyles } from './styles';\n\nimport { Dot } from '../../../../Components/Dot';\nimport { Avatar } from '../../../../Components/Avatar';\n\nimport { DateTime } from './DateTime';\n\nimport { File } from '../../../../Components/File';\nimport { Image } from '../../../../Components/Image';\n\nimport { isImage, getFileName } from '../../../../util/file';\nimport { formatTime, getDateTime } from '../../../../util/dateTime';\n\nexport const Message: React.FC<MessageProps> = (props: MessageProps) => {\n  const {\n    lastMessage = null,\n    message,\n    nextMessage = null,\n    chat = null,\n    isSending = false,\n    isMyMessage = false,\n    showDateTime = false,\n  } = props;\n\n  const [hovered, setHovered] = useState<boolean>(false);\n\n  const styles = isMyMessage ? myStyles : theirStyles;\n\n  const topRadius =\n    !lastMessage || lastMessage.sender_username !== message.sender_username\n      ? '1.3em'\n      : '0.3em';\n  const bottomRadius =\n    !nextMessage || nextMessage.sender_username !== message.sender_username\n      ? '1.3em'\n      : '0.3em';\n  const borderStyle = {\n    borderRadius: isMyMessage\n      ? `1.3em ${topRadius} ${bottomRadius} 1.3em`\n      : `${topRadius} 1.3em 1.3em ${bottomRadius}`,\n  };\n  const sendingStyle = isSending ? { backgroundColor: '#40a9ff' } : {};\n  const isLastMessage =\n    !nextMessage || nextMessage.sender_username !== message.sender_username;\n\n  const paddingBottom =\n    !nextMessage || nextMessage.sender_username !== message.sender_username\n      ? '12px'\n      : '2px';\n\n  const text: string =\n    message.text !== null\n      ? message.text.replace(/<a /g, `<a style=\"color: 'white';\" `)\n      : '';\n\n  const renderAttachments = (renderImage: boolean) => {\n    const attachments =\n      message && message.attachments ? message.attachments : [];\n\n    return attachments.map((attachment, index) => {\n      const fileName = getFileName(attachment.file);\n\n      if (renderImage && isImage(fileName)) {\n        return (\n          <Image\n            key={`attachment_${index}`}\n            url={\n              attachment.file !== null && !props.isSending\n                ? attachment.file\n                : undefined\n            }\n            style={{\n              ...styles.attachmentsImageStyle,\n              ...props.attachmentsImageStyle,\n            }}\n            className=\"ce-message-image\"\n          />\n        );\n      } else if (!renderImage && !isImage(fileName)) {\n        return (\n          <File\n            key={`attachment_${index}`}\n            url={\n              attachment.file !== null && !props.isSending\n                ? attachment.file\n                : undefined\n            }\n            style={{\n              ...styles.attachmentsFileStyle,\n              ...props.attachmentsFileStyle,\n            }}\n            className=\"ce-message-file\"\n          />\n        );\n      } else {\n        return <div key={`attachment_${index}`} />;\n      }\n    });\n  };\n\n  const renderReads = () => {\n    const chatPeople = chat !== null ? chat.people : [];\n    return chatPeople.map((chatPerson, index) => {\n      return (\n        <Dot\n          key={`read_${index}`}\n          avatarUrl={chatPerson.person.avatar}\n          username={chatPerson.person.username}\n          isVisible={message.id === chatPerson.last_read}\n          style={{\n            ...styles.readStyle,\n            ...props.readStyle,\n          }}\n        />\n      );\n    });\n  };\n\n  if (props.renderMessage) {\n    return <>{props.renderMessage(props)}</>;\n  }\n\n  return (\n    <div\n      className={`ce-${isMyMessage ? 'my' : 'their'}-message`}\n      style={{\n        ...styles.style,\n        ...{ paddingBottom },\n        ...props.style,\n      }}\n    >\n      {showDateTime && (\n        <DateTime\n          created={message.created}\n          style={{\n            ...styles.dateTimeStyle,\n            ...props.dateTimeStyle,\n          }}\n        />\n      )}\n\n      {(lastMessage === null ||\n        lastMessage.sender_username !== message.sender_username) && (\n        <div\n          style={{\n            ...styles.senderUsernameStyle,\n            ...props.senderUsernameStyle,\n          }}\n          className={`ce-${\n            isMyMessage ? 'my' : 'their'\n          }-message-sender-username`}\n        >\n          {message.sender_username}\n        </div>\n      )}\n\n      <div\n        style={{\n          ...styles.attachmentsStyle,\n          ...props.attachmentsStyle,\n        }}\n        className={`\n          ce-${isMyMessage ? 'my' : 'their'}-message-attachments \n          ce-${isMyMessage ? 'my' : 'their'}-message-images\n        `}\n      >\n        {renderAttachments(true)}\n      </div>\n\n      <div\n        style={{\n          ...styles.attachmentsStyle,\n          ...props.attachmentsStyle,\n        }}\n        className={`\n            ce-${isMyMessage ? 'my' : 'their'}-message-attachments \n            ce-${isMyMessage ? 'my' : 'their'}-message-files\n          `}\n      >\n        {renderAttachments(false)}\n      </div>\n\n      {message.text !== null && (\n        <div\n          onMouseEnter={() => setHovered(true)}\n          onMouseLeave={() => setHovered(false)}\n          style={{\n            ...styles.bodyStyle,\n            ...props.bodyStyle,\n          }}\n        >\n          {isMyMessage && (\n            <span\n              className=\"ce-my-message-timestamp\"\n              style={{\n                ...styles.timeTagStyle,\n                ...{ opacity: hovered ? '1' : '0' },\n                ...props.timeTagStyle,\n              }}\n            >\n              {formatTime(\n                getDateTime(message.created, props.timezoneOffset) as Date\n              )}\n            </span>\n          )}\n\n          <div\n            className={`\n              ce-${isMyMessage ? 'my' : 'their'}-message-body\n              ${isSending && 'ce-my-message-sending-body'}\n            `}\n            style={{\n              ...styles.bubbleStyle,\n              ...borderStyle,\n              ...sendingStyle,\n              ...props.bubbleStyle,\n            }}\n            dangerouslySetInnerHTML={{ __html: text }}\n          />\n          <style>{`p {margin-block-start: 0px; margin-block-end: 0px;}`}</style>\n\n          {!isMyMessage && (\n            <span\n              className=\"ce-their-message-timestamp\"\n              style={{\n                ...styles.timeTagStyle,\n                ...{ opacity: hovered ? '1' : '0' },\n                ...props.timeTagStyle,\n              }}\n            >\n              {formatTime(\n                getDateTime(message.created, props.timezoneOffset) as Date\n              )}\n            </span>\n          )}\n\n          <Avatar\n            username={message.sender_username}\n            style={{\n              ...styles.avatarStyle,\n              ...(isLastMessage ? {} : { display: 'none' }),\n              ...props.avatarStyle,\n            }}\n            avatarUrl={\n              message.sender &&\n              message.sender !== null &&\n              message.sender.avatar !== null\n                ? message.sender.avatar\n                : undefined\n            }\n          />\n        </div>\n      )}\n\n      <div\n        style={{\n          ...styles.readsStyle,\n          ...props.readsStyle,\n        }}\n        className={`ce-${isMyMessage ? 'my' : 'their'}-reads-row`}\n      >\n        {renderReads()}\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\n\nimport { MessageListProps } from './props';\nimport { styles } from './styles';\n\nimport { Message } from './Message';\n\nimport { RenderTrigger } from '../../../Components/RenderTrigger';\nimport { Spinner } from '../../../Components/Spinner';\n\nimport _ from 'lodash';\n\nexport const MessageList: React.FC<MessageListProps> = (\n  props: MessageListProps\n) => {\n  const { messages = [] } = props;\n\n  const messagesObject = _.mapKeys(messages, 'created');\n  const keys = Object.keys(messagesObject).sort();\n\n  const date = (date: string) => {\n    return date ? date.substr(0, 10) : null;\n  };\n\n  const renderMessages = (keys: Array<string>) => {\n    return keys.map((key, index) => {\n      const message = messagesObject[key];\n      const lastKey = index === 0 ? '' : keys[index - 1];\n      const nextKey: string = index === keys.length - 1 ? '' : keys[index + 1];\n\n      const lastDate = lastKey !== '' ? date(lastKey) : undefined;\n      const thisDate = key !== '' ? date(key) : undefined;\n\n      const showDateTime: boolean = !lastDate || lastDate !== thisDate;\n      const isMyMessage: boolean = props.username === message.sender_username;\n\n      return (\n        <div key={`message_${index}`} id={`ce-message-${message.id}`}>\n          {index === keys.length - 1 && (\n            <RenderTrigger\n              onShow={props.onBottomMessageShow}\n              onHide={props.onBottomMessageHide}\n              children=\"\"\n            />\n          )}\n\n          <Message\n            chat={props.chat}\n            message={message}\n            lastMessage={messagesObject[lastKey]}\n            nextMessage={messagesObject[nextKey]}\n            timezoneOffset={props.timezoneOffset}\n            isMyMessage={isMyMessage}\n            isSending={!message.id}\n            showDateTime={showDateTime}\n            renderMessage={props.renderMessage}\n            style={{ ...styles.messageStyle, ...props.messageStyle }}\n          />\n        </div>\n      );\n    });\n  };\n\n  if (props.renderMessageList) {\n    return <>{props.renderMessageList(props)}</>;\n  }\n\n  return (\n    // Used for scrolling\n    <div\n      className=\"ce-message-list\"\n      id={`ce-message-list-${props.chat?.id}`}\n      style={{ ...styles.style, ...props.style }}\n    >\n      {/* used for finding Feed Height */}\n      <div\n        className=\"ce-message-list-content\"\n        id={`ce-message-list-content-${props.chat?.id}`}\n      >\n        {props.hasMoreMessages && (\n          <RenderTrigger\n            onShow={props.onMessageLoaderShow}\n            onHide={props.onMessageLoaderHide}\n            children={\n              <Spinner\n                style={{\n                  position: 'relative',\n                  left: 'calc(50% - 0.625em)',\n                  width: '1.25em',\n                  height: '1.25em',\n                  font: 'red',\n                }}\n              />\n            }\n          />\n        )}\n\n        {renderMessages(keys)}\n      </div>\n    </div>\n  );\n};\n","export interface MessageFormStyles {\n  style?: React.CSSProperties;\n  inputStyle?: React.CSSProperties;\n  sendButtonStyle?: React.CSSProperties;\n  attachmentInputStyle?: React.CSSProperties;\n  attachmentInputIconStyle?: React.CSSProperties;\n  draftAttachmentStyle?: React.CSSProperties;\n  draftAttachmentRemoveStyle?: React.CSSProperties;\n  draftImageStyle?: React.CSSProperties;\n  draftFileStyle?: React.CSSProperties;\n}\n\nexport const styles: MessageFormStyles = {\n  style: {\n    paddingTop: '4px',\n  },\n  inputStyle: {\n    border: '1px solid white',\n    width: 'calc(100% - 24px - 116px)',\n    outline: 'none',\n    fontSize: '15px',\n    fontFamily: 'Avenir',\n    paddingLeft: '12px',\n    paddingRight: '12px',\n    resize: 'none',\n    overflowX: 'hidden',\n    // Tweak Position\n    position: 'relative',\n    top: '6px',\n  },\n  sendButtonStyle: {\n    cursor: 'pointer',\n    fontFamily: 'Avenir',\n    display: 'inline-block',\n    borderRadius: '8px',\n    padding: '6px 12px',\n    color: 'white',\n    transition: 'all .33s ease',\n    WebkitTransition: 'all .33s ease',\n    MozTransition: 'all .33s ease',\n    // Tweak Position\n    position: 'relative',\n    bottom: '6px',\n  },\n  draftAttachmentStyle: {\n    padding: '6px',\n    display: 'inline-block',\n    position: 'relative',\n  },\n  draftAttachmentRemoveStyle: {\n    position: 'absolute',\n    top: '-6px',\n    right: '-6px',\n    width: '30px',\n    height: '30px',\n    color: '#40a9ff',\n    backgroundColor: 'white',\n    border: '1px solid rgb(67, 67, 67)',\n    borderRadius: '50%',\n    cursor: 'pointer',\n    transition: 'all .33s ease',\n    WebkitTransition: 'all .33s ease',\n    MozTransition: 'all .33s ease',\n  },\n  draftImageStyle: {\n    padding: '6px',\n    height: '60px',\n    width: '60px',\n  },\n  draftFileStyle: {},\n};\n","export interface AttachmentInputStyles {\n  style?: React.CSSProperties;\n  iconStyle?: React.CSSProperties;\n}\n\nexport const styles: AttachmentInputStyles = {\n  style: {\n    height: '0px',\n    display: 'inline',\n    padding: '6px 12px',\n    position: 'relative',\n    bottom: '6px',\n  },\n  iconStyle: {\n    backgroundColor: 'white',\n    border: '1px solid white',\n    cursor: 'pointer',\n  },\n};\n","import React, { useState } from 'react';\n\nimport { Props } from './props';\nimport { styles } from './styles';\n\nexport const AttachmentInput: React.FC<Props> = (props: Props) => {\n  const [hovered, setHovered] = useState<boolean>(false);\n  const hoverStyle: React.CSSProperties = { color: hovered ? '#06c' : '#444' };\n\n  const onSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\n    e.preventDefault();\n    const target = e.target as HTMLInputElement;\n    const files = target.files;\n    props.onSelectFiles && props.onSelectFiles(files);\n  };\n\n  return (\n    <form\n      className=\"ce-attachment-input\"\n      encType=\"multipart/form-data\"\n      style={{\n        ...styles.style,\n        ...props.style,\n      }}\n    >\n      <label htmlFor=\"files\" id=\"ce-upload-document-button\">\n        <span\n          className=\"ce-attachment-icon\"\n          onMouseEnter={() => setHovered(true)}\n          onMouseLeave={() => setHovered(false)}\n          style={{\n            ...styles.iconStyle,\n            ...hoverStyle,\n            ...props.iconStyle,\n          }}\n          onClick={() => {}} // Prevents redirect in StorybookJS\n        >\n          📎\n        </span>\n      </label>\n\n      <input\n        multiple\n        id=\"files\"\n        style={{ visibility: 'hidden', height: '0px', width: '0px' }}\n        type=\"file\"\n        onChange={onSelect}\n      />\n    </form>\n  );\n};\n","import React, { useEffect, useState } from 'react';\n\nimport { MessageFormProps } from './props';\nimport { styles } from './styles';\n\nimport { AttachmentInput } from './AttachmentInput';\n\nimport { File } from '../../../Components/File';\nimport { Image } from '../../../Components/Image';\n\nimport { isImage } from '../../../util/file';\nimport { MessageObject, AttachmentObject } from '../../../../interfaces';\n\nexport const MessageForm: React.FC<MessageFormProps> = (\n  props: MessageFormProps\n) => {\n  const { label = '' } = props;\n\n  const [iter, setIter] = useState(0); // Forces attachments update\n  const [value, setValue] = useState<string>('');\n  const [height, setHeight] = useState<number>(0);\n  const [buttonHover, setButtonHover] = useState<boolean>(false);\n  const [attachments, setAttachments] = useState<Array<File>>([]);\n\n  useEffect(() => resize(), []);\n\n  const resize = () => {\n    var textarea = document.getElementById('msg-textarea');\n    if (textarea !== null) {\n      textarea.style.height = '';\n      textarea.style.height = Math.min(textarea.scrollHeight, 150) + 'px';\n      setHeight(Math.min(textarea.scrollHeight, 150));\n    }\n  };\n\n  const onChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    setValue(e.target.value);\n    props.onChange && props.onChange(e);\n    resize();\n  };\n\n  const onSubmit = () => {\n    const created = new Date()\n      .toISOString()\n      .replace('T', ' ')\n      .replace('Z', `${Math.floor(Math.random() * 1000)}+00:00`);\n    const localAttachments: AttachmentObject[] = attachments.map(\n      (attachment) => {\n        return {\n          id: -1,\n          created: new Date().toString(),\n          file: attachment.name,\n          blob: attachment,\n        };\n      }\n    );\n\n    const message: MessageObject = {\n      attachments: localAttachments,\n      text: value,\n      sender_username: props.username ? props.username : '',\n      custom_json: {},\n      created,\n    };\n\n    props.onSubmit && props.onSubmit(message);\n\n    setValue('');\n    setAttachments([]);\n    resize();\n  };\n\n  const onKeyDown = (e: React.KeyboardEvent<HTMLTextAreaElement>) => {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      if (value.length > 0) {\n        onSubmit();\n      }\n    }\n  };\n\n  const onRemove = (index: number) => {\n    if (attachments && attachments !== null) {\n      const newAttachments = attachments;\n      newAttachments.splice(index, 1);\n      setAttachments(newAttachments);\n      setIter(iter + 1);\n    }\n  };\n\n  const renderAttachments = (renderImage: boolean) => {\n    if (!attachments || attachments === null) return <div />;\n\n    return Array.from(attachments).map((attachment, index) => {\n      const url = URL.createObjectURL(attachment);\n\n      return (\n        <span\n          key={`draft-${index}`}\n          className=\"ce-draft-attachment-wrapper\"\n          style={{\n            ...styles.draftAttachmentStyle,\n            ...props.draftAttachmentStyle,\n          }}\n        >\n          {renderImage && isImage(attachment.name) && (\n            <Image\n              url={url}\n              style={{ ...styles.draftImageStyle, ...props.draftImageStyle }}\n              className=\"ce-draft-image\"\n            />\n          )}\n\n          {!renderImage && !isImage(attachment.name) && (\n            <File\n              url={url}\n              fileName={`📄 ${attachment.name}`}\n              style={{ ...styles.draftFileStyle, ...props.draftFileStyle }}\n              className=\"ce-draft-file\"\n            />\n          )}\n\n          {((!renderImage && !isImage(attachment.name)) ||\n            (renderImage && isImage(attachment.name))) && (\n            <button\n              className=\"ce-message-attachment-remove-btn\"\n              onClick={() => onRemove(index)}\n              style={{\n                ...styles.draftAttachmentRemoveStyle,\n                ...props.draftAttachmentRemoveStyle,\n              }}\n            >\n              ❌\n            </button>\n          )}\n        </span>\n      );\n    });\n  };\n\n  if (props.renderMessageForm) {\n    return <>{props.renderMessageForm(props)}</>;\n  }\n\n  return (\n    <div\n      id=\"ce-message-form\"\n      style={{ ...styles.style, ...props.style }}\n      className=\"ce-message-form\"\n    >\n      <div className=\"ce-message-form-attachments-row\">\n        {renderAttachments(true)}\n      </div>\n\n      <div className=\"ce-message-form-attachments-row\">\n        {renderAttachments(false)}\n      </div>\n\n      <textarea\n        id=\"msg-textarea\"\n        className=\"ce-message-form-input\"\n        value={value}\n        placeholder={label}\n        rows={1}\n        onKeyDown={onKeyDown}\n        onChange={onChange}\n        style={{\n          ...styles.inputStyle,\n          ...{ overflowY: height === 150 ? 'scroll' : 'hidden' },\n          ...props.inputStyle,\n        }}\n      />\n\n      <AttachmentInput\n        onSelectFiles={(files) => {\n          files !== null && setAttachments(Array.from(files));\n        }}\n        style={{\n          ...styles.attachmentInputStyle,\n          ...props.attachmentInputStyle,\n        }}\n        iconStyle={{\n          ...styles.attachmentInputIconStyle,\n          ...props.attachmentInputIconStyle,\n        }}\n      />\n\n      <div\n        id=\"ce-send-message-button\"\n        onMouseEnter={() => setButtonHover(true)}\n        onMouseLeave={() => setButtonHover(false)}\n        onClick={onSubmit}\n        style={{\n          ...styles.sendButtonStyle,\n          ...{ backgroundColor: buttonHover ? '#40a9ff' : '#1890ff' },\n          ...props.sendButtonStyle,\n        }}\n      >\n        Send\n      </div>\n    </div>\n  );\n};\n","export interface WelcomeGifStyles {\n  style?: React.CSSProperties;\n  gifStyle?: React.CSSProperties;\n  textStyle?: React.CSSProperties;\n}\n\nexport const styles: WelcomeGifStyles = {\n  style: {\n    width: '100%',\n    textAlign: 'center',\n  },\n  gifStyle: { width: '50%', maxWidth: '200px' },\n  textStyle: {\n    color: '#afafaf',\n    fontWeight: 600,\n    fontSize: '14px',\n    fontFamily: 'Avenir',\n  },\n};\n","import React from 'react';\nimport { WelcomeGifProps } from './props';\nimport { styles } from './styles';\n\nexport const WelcomeGif: React.FC<WelcomeGifProps> = (\n  props: WelcomeGifProps\n) => {\n  if (props.renderWelcomeGif) {\n    return <>{props.renderWelcomeGif(props)}</>;\n  }\n  return (\n    <div\n      className=\"ce-ice-breaker-wrapper\"\n      style={{ ...styles.style, ...props.style }}\n    >\n      <img\n        className=\"ce-ice-breaker-gif\"\n        style={{ ...styles.gifStyle, ...props.gifStyle }}\n        src=\"https://chat-engine-assets.s3.amazonaws.com/welcome_gifs/peace.gif\"\n        alt=\"chat-engine-ice-breaker\"\n      />\n\n      <div\n        className=\"ce-ice-breaker-text\"\n        style={{ ...styles.textStyle, ...props.textStyle }}\n      >\n        No messages here yet...\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\n\nimport { ChatFeedProps } from './props';\nimport { styles } from './styles';\n\nimport { ChatHeader } from './ChatHeader';\nimport { MessageList } from './MessageList';\nimport { MessageForm } from './MessageForm';\nimport { WelcomeGif } from './WelcomeGif';\n\nimport { getDateTime, formatDateTime } from '../../util/dateTime';\n\nimport { Spinner } from '../../Components/Spinner';\nimport { ChatObject } from '../../../interfaces';\n\nconst getDescription = (\n  chat: ChatObject | undefined,\n  timezoneOffset: number = 0\n) => {\n  if (!chat) {\n    return '⬅️ ⬅️ ⬅️';\n  } else if (\n    chat.last_message.created &&\n    chat.last_message.created.length > 0\n  ) {\n    const dateTime = getDateTime(chat.last_message.created, timezoneOffset);\n    const formattedDateTime = formatDateTime(dateTime);\n    return `Active ${formattedDateTime}`;\n  } else {\n    return 'Say hello!';\n  }\n};\n\nexport const ChatFeed: React.FC<ChatFeedProps> = (props: ChatFeedProps) => {\n  const { chat } = props;\n\n  const otherPerson =\n    chat &&\n    chat.people.find((person) => person.person.username !== props.username);\n\n  const title = props.isLoading ? (\n    <Spinner />\n  ) : !chat ? (\n    'Create a chat!'\n  ) : chat.is_direct_chat && otherPerson ? (\n    otherPerson.person.username\n  ) : (\n    chat.title\n  );\n\n  if (props.renderChatFeed) {\n    return <>{props.renderChatFeed(props)}</>;\n  }\n\n  return (\n    <div className=\"ce-chat-feed\" style={{ ...styles.style, ...props.style }}>\n      <ChatHeader\n        title={title}\n        description={\n          props.isLoading\n            ? 'Loading...'\n            : getDescription(chat, props.timezoneOffset)\n        }\n        renderChatHeader={props.renderChatHeader}\n        style={{\n          ...styles.chatHeaderStyle,\n          ...props.chatHeaderStyle,\n        }}\n      />\n\n      <MessageList\n        chat={chat}\n        messages={props.messages}\n        username={props.username}\n        timezoneOffset={props.timezoneOffset}\n        hasMoreMessages={props.hasMoreMessages}\n        onMessageLoaderShow={props.onMessageLoaderShow}\n        onMessageLoaderHide={props.onMessageLoaderHide}\n        onBottomMessageShow={props.onBottomMessageShow}\n        onBottomMessageHide={props.onBottomMessageHide}\n        renderMessageList={props.renderMessageList}\n        renderMessage={props.renderMessage}\n        style={{\n          ...styles.messageListStyle,\n          ...props.messageListStyle,\n        }}\n      />\n\n      {props.messages.length === 0 && !props.isLoading && (\n        <WelcomeGif\n          style={{\n            position: 'absolute',\n            top: 'calc(50% - 112px)',\n          }}\n        />\n      )}\n\n      <MessageForm\n        label=\"Send a message...\"\n        username={props.username}\n        onSubmit={props.onMessageFormSubmit}\n        renderMessageForm={props.renderMessageForm}\n        style={{\n          ...styles.messageFormStyle,\n          ...props.messageFormStyle,\n        }}\n      />\n    </div>\n  );\n};\n","export interface ChatSettingsStyles {\n  style?: React.CSSProperties;\n  chatTitleStyle?: React.CSSProperties;\n  peopleSettingsStyle?: React.CSSProperties;\n  photosSettingsStyle?: React.CSSProperties;\n  optionsSettingsStyle?: React.CSSProperties;\n}\n\nexport const styles: ChatSettingsStyles = {\n  style: { backgroundColor: 'white', width: '100%', height: '100%' },\n  chatTitleStyle: {\n    width: '100%',\n    textAlign: 'center',\n    fontFamily: 'Avenir',\n    fontSize: '18px',\n    fontWeight: 600,\n  },\n};\n","export interface AvatarsStyle {\n  avatarOne?: React.CSSProperties;\n  avatarTwo?: React.CSSProperties;\n  avatarThree?: React.CSSProperties;\n}\nexport interface ChatAvatarsStyle {\n  style?: React.CSSProperties;\n  oneAvatarStyle?: AvatarsStyle;\n  twoAvatarsStyle?: AvatarsStyle;\n  threeAvatarsStyle?: AvatarsStyle;\n}\n\nexport const styles: ChatAvatarsStyle = {\n  style: {\n    width: '100%',\n    paddingTop: '12px',\n    height: 'calc(44px + 14px)',\n  },\n  oneAvatarStyle: {\n    avatarOne: {\n      float: 'left',\n      position: 'relative',\n      left: 'calc(50% - 22px)',\n    },\n  },\n  twoAvatarsStyle: {\n    avatarOne: {\n      float: 'left',\n      position: 'relative',\n      left: 'calc(50% - 22px - 15px)',\n    },\n    avatarTwo: {\n      float: 'left',\n      position: 'relative',\n      left: 'calc(50% - 44px - 22px + 15px)',\n    },\n  },\n  threeAvatarsStyle: {\n    avatarOne: {\n      float: 'left',\n      position: 'relative',\n      left: 'calc(50% - 22px - 24px)',\n    },\n    avatarTwo: {\n      float: 'left',\n      position: 'relative',\n      left: 'calc(50% - 24px - 44px)',\n    },\n    avatarThree: {\n      float: 'left',\n      position: 'relative',\n      left: 'calc(50% - 22px - 44px - 44px + 24px)',\n    },\n  },\n};\n","import React from 'react';\n\nimport { ChatAvatarsProps } from './props';\nimport { styles, ChatAvatarsStyle, AvatarsStyle } from './styles';\n\nimport { Avatar } from '../../../Components/Avatar';\nimport { PersonObject } from '../../../../interfaces';\n\nexport const ChatAvatars: React.FC<ChatAvatarsProps> = (\n  props: ChatAvatarsProps\n) => {\n  const { users = [] } = props;\n\n  const getStyle = (\n    people: PersonObject[],\n    styles: ChatAvatarsStyle\n  ): AvatarsStyle => {\n    if (people.length === 1) {\n      return styles.oneAvatarStyle ? styles.oneAvatarStyle : {};\n    } else if (people.length === 2) {\n      return styles.twoAvatarsStyle ? styles.twoAvatarsStyle : {};\n    } else {\n      return styles.threeAvatarsStyle ? styles.threeAvatarsStyle : {};\n    }\n  };\n\n  const getPeopleToRender = (people: PersonObject[]): PersonObject[] => {\n    if (props.isDirectChat) {\n      const otherPerson = users.find(\n        (person) => person.username !== props.username\n      );\n      return otherPerson ? [otherPerson] : [];\n    }\n    return people.slice(0, 3);\n  };\n\n  const topPeople = getPeopleToRender(users);\n  const style = getStyle(users, styles);\n  const propsStyle = getStyle(users, props);\n\n  if (props.renderChatAvatars) {\n    return <>{props.renderChatAvatars(props)}</>;\n  }\n\n  return (\n    <div\n      className=\"ce-chat-avatars\"\n      style={{ ...styles.style, ...props.style }}\n    >\n      <Avatar\n        className=\"ce-chat-avatar-1\"\n        username={topPeople[0] ? topPeople[0].username : undefined}\n        avatarUrl={topPeople[0] ? topPeople[0].avatar : undefined}\n        style={{\n          ...style.avatarOne,\n          ...{ display: topPeople[0] ? 'inherit' : 'none' },\n          ...propsStyle.avatarOne,\n        }}\n      />\n\n      <Avatar\n        className=\"ce-chat-avatar-2\"\n        username={topPeople[1] ? topPeople[1].username : undefined}\n        avatarUrl={topPeople[1] ? topPeople[1].avatar : undefined}\n        style={{\n          ...style.avatarTwo,\n          ...{ display: topPeople[1] ? 'inherit' : 'none' },\n          ...propsStyle.avatarTwo,\n        }}\n      />\n\n      <Avatar\n        className=\"ce-chat-avatar-3\"\n        username={topPeople[2] ? topPeople[2].username : undefined}\n        avatarUrl={topPeople[2] ? topPeople[2].avatar : undefined}\n        style={{\n          ...style.avatarThree,\n          ...{ display: topPeople[2] ? 'inherit' : 'none' },\n          ...propsStyle.avatarThree,\n        }}\n      />\n    </div>\n  );\n};\n","export interface PeopleSettingsStyles {\n  style?: React.CSSProperties;\n  avatarStyle?: React.CSSProperties;\n  usernameStyle?: React.CSSProperties;\n  deleteButtonStyle?: React.CSSProperties;\n  optionStyle?: React.CSSProperties;\n  addMemberStyle?: React.CSSProperties;\n  addMemberInputStyle?: React.CSSProperties;\n}\n\nexport const styles: PeopleSettingsStyles = {\n  style: {},\n  avatarStyle: { position: 'absolute', left: '12px', top: '2px' },\n  usernameStyle: {\n    fontFamily: 'Avenir',\n    position: 'absolute',\n    left: '72px',\n    top: '12px',\n    width: 'calc(100% - 84px - 52px - 12px)',\n  },\n  deleteButtonStyle: { position: 'absolute', right: '12px', top: '8px' },\n  optionStyle: { fontFamily: 'Avenir', padding: '8px 12px', cursor: 'pointer' },\n  addMemberStyle: {\n    width: 'calc(100% - 12px - 12px)',\n    position: 'relative',\n    left: '12px',\n  },\n  addMemberInputStyle: { border: '1px solid rgb(24, 144, 255)' },\n};\n","export interface AutocompleteStyles {\n  style?: React.CSSProperties;\n  inputStyle?: React.CSSProperties;\n  closeStyle?: React.CSSProperties;\n  optionsStyle?: React.CSSProperties;\n}\n\nexport const styles: AutocompleteStyles = {\n  style: { position: 'relative' },\n  inputStyle: {\n    width: '100%',\n    height: '36px',\n    padding: '0px 12px',\n    boxSizing: 'border-box',\n    fontSize: '15px',\n    fontFamily: 'Avenir',\n    outline: 'none',\n    borderRadius: '24px',\n  },\n  closeStyle: {\n    cursor: 'pointer',\n    position: 'absolute',\n    top: '5px',\n    right: '12px',\n  },\n  optionsStyle: { overflow: 'hidden' },\n};\n","import React, { useEffect, useState, useRef } from 'react';\nimport { styles } from './styles';\nimport { Props } from './props';\n\nconst emptyEvent = {\n  target: { value: '' },\n} as React.ChangeEvent<HTMLInputElement>;\n\nconst getOptions = (\n  value: string,\n  options: Array<Object>,\n  maxVisibleOptions: number\n) => {\n  return options\n    .filter(\n      (option) =>\n        JSON.stringify(option).toLowerCase().indexOf(value.toLowerCase()) !== -1\n    )\n    .slice(0, maxVisibleOptions);\n};\n\nexport const Autocomplete: React.FC<Props> = (props: Props) => {\n  const ref = useRef<HTMLDivElement>(null);\n  const didMountRef = useRef(false);\n  const [value, setValue] = useState<string>('');\n  const [showOptions, setShowOptions] = useState<boolean>(false);\n\n  useEffect(() => {\n    if (!didMountRef.current) {\n      didMountRef.current = true;\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  const handleClickOutside = (event: MouseEvent) => {\n    if (\n      event.target !== null &&\n      ref &&\n      ref.current !== null &&\n      !ref.current.contains(event.target as Node)\n    ) {\n      setShowOptions(false);\n    }\n  };\n\n  const onChange = (\n    event: React.ChangeEvent<HTMLInputElement>,\n    showOptions: boolean\n  ) => {\n    setValue(event.target.value);\n    setShowOptions(showOptions);\n    props.onChange && props.onChange(event);\n  };\n\n  const renderOptions = (value: string) => {\n    const max = props.maxVisibleOptions ? props.maxVisibleOptions : 3;\n    return getOptions(value, props.options, max).map((option, index) => {\n      return (\n        <div key={`option-${index}`}>\n          {props.renderOption ? props.renderOption(option) : option.toString()}\n        </div>\n      );\n    });\n  };\n\n  return (\n    <div\n      ref={ref}\n      className=\"ce-autocomplete\"\n      style={{ ...styles.style, ...props.style }}\n    >\n      <input\n        className=\"ce-autocomplete-input\"\n        value={value}\n        placeholder={props.label}\n        style={{ ...styles.inputStyle, ...props.inputStyle }}\n        onChange={(e) => onChange(e, true)}\n        onFocus={(e) => {\n          setShowOptions(true);\n          props.onFocus && props.onFocus(e);\n        }}\n      />\n\n      <div\n        className=\"ce-autocomplete-close\"\n        onClick={() => onChange(emptyEvent, true)}\n        style={{\n          ...styles.closeStyle,\n          ...{ display: value.length > 0 ? 'inline-block' : 'none' },\n          ...props.closeStyle,\n        }}\n      >\n        ❌\n      </div>\n\n      <div\n        style={{\n          ...styles.optionsStyle,\n          ...{ height: showOptions ? 'auto' : '0px' },\n          ...props.optionsStyle,\n        }}\n      >\n        {renderOptions(value)}\n      </div>\n    </div>\n  );\n};\n","export interface DropdownStyles {\n  style?: React.CSSProperties;\n  barStyle?: React.CSSProperties;\n  barHoveredStyle?: React.CSSProperties;\n  iconStyle?: React.CSSProperties;\n  bodyStyle?: React.CSSProperties;\n  bodyExpandedStyle?: React.CSSProperties;\n}\n\nexport const styles: DropdownStyles = {\n  style: { borderTop: '1px solid #f0f0f0' },\n  barStyle: {\n    position: 'relative',\n    cursor: 'pointer',\n    backgroundColor: 'white',\n    transition: 'all .33s ease',\n    WebkitTransition: 'all .33s ease',\n    MozTransition: 'all .33s ease',\n    fontFamily: 'Avenir',\n    fontSize: '17px',\n    padding: '12px',\n    fontWeight: 600,\n  },\n  barHoveredStyle: {\n    backgroundColor: '#f0f0f0',\n  },\n  iconStyle: {\n    position: 'absolute',\n    right: '12px',\n    bottom: '15px',\n    width: '1em',\n    height: '1em',\n    transition: `transform 100ms`,\n  },\n  bodyStyle: {\n    height: '0px',\n    overflow: 'hidden',\n    transition: 'all 1.33s ease',\n    WebkitTransition: 'all 1.33s ease',\n    MozTransition: 'all 1.33s ease',\n  },\n  bodyExpandedStyle: { height: 'auto' },\n};\n","import React, { useState } from 'react';\nimport { styles } from './styles';\nimport { Props } from './props';\n\nexport const Dropdown: React.FC<Props> = (props: Props) => {\n  const [hovered, setHovered] = useState<boolean>(false);\n  const [expanded, setExpanded] = useState<boolean>(false);\n\n  return (\n    <div\n      id={props.id}\n      className={`ce-dropdown ${props.className}`}\n      style={{ ...styles.style, ...props.style }}\n    >\n      <div\n        className=\"ce-dropdown-label\"\n        onMouseEnter={() => setHovered(true)}\n        onMouseLeave={() => setHovered(false)}\n        onClick={() => setExpanded(!expanded)}\n        style={{\n          ...styles.barStyle,\n          ...(hovered && styles.barHoveredStyle),\n          ...props.barStyle,\n          ...(hovered && props.barHoveredStyle),\n        }}\n      >\n        {props.label}\n\n        <svg\n          className=\"ce-dropdown-icon\"\n          style={{\n            ...styles.iconStyle,\n            ...(expanded\n              ? { transform: `rotate(-90deg)` }\n              : { transform: `rotate(0deg)` }),\n            ...props.iconStyle,\n          }}\n          viewBox=\"64 64 896 896\"\n          focusable=\"false\"\n          data-icon=\"left\"\n          fill=\"currentColor\"\n          aria-hidden=\"true\"\n        >\n          <path d=\"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z\"></path>\n        </svg>\n      </div>\n\n      <div\n        className=\"ce-dropdown-children\"\n        style={{\n          ...styles.bodyStyle,\n          ...(expanded && styles.bodyExpandedStyle),\n          ...props.bodyStyle,\n          ...(expanded && props.bodyExpandedStyle),\n        }}\n      >\n        {props.children}\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\n\nimport { PeopleSettingsProps } from './props';\nimport { styles } from './styles';\n\nimport { Avatar } from '../../../Components/Avatar';\nimport { Autocomplete } from '../../../Components/Autocomplete';\nimport { Button } from '../../../Components/Button';\nimport { Dropdown } from '../../../Components/Dropdown';\n\nimport { PersonObject, ChatPersonObject } from '../../../../interfaces';\n\nexport const PeopleSettings: React.FC<PeopleSettingsProps> = (\n  props: PeopleSettingsProps\n) => {\n  const { chat = { people: [] }, peopleToInvite = [] } = props;\n\n  const renderChatPeople = (chatPeople: Array<ChatPersonObject>) => {\n    return chatPeople.map((chatPerson, index) => {\n      const { person } = chatPerson;\n\n      return (\n        <div\n          key={`member-${index}`}\n          style={{ height: '52px', position: 'relative' }}\n        >\n          <Avatar\n            username={person.username}\n            avatarUrl={person.avatar}\n            isOnline={person.is_online}\n            style={{ ...styles.avatarStyle, ...props.avatarStyle }}\n          />\n\n          <div style={{ ...styles.usernameStyle, ...props.usernameStyle }}>\n            {person.username}\n          </div>\n\n          {props.canDelete && (\n            <Button\n              type=\"danger\"\n              className=\"ce-member-delete-button\"\n              onClick={() =>\n                props.onRemovePersonClick && props.onRemovePersonClick(person)\n              }\n              style={{\n                ...styles.deleteButtonStyle,\n                ...props.deleteButtonStyle,\n              }}\n            >\n              <svg\n                viewBox=\"64 64 896 896\"\n                focusable=\"false\"\n                data-icon=\"close\"\n                width=\"1em\"\n                height=\"1em\"\n                fill=\"currentColor\"\n                aria-hidden=\"true\"\n              >\n                <path d=\"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z\"></path>\n              </svg>\n            </Button>\n          )}\n        </div>\n      );\n    });\n  };\n\n  const renderChatPeopleOption = (option: object) => {\n    const person = option as PersonObject;\n    const { onInvitePersonClick } = props;\n    return (\n      <div\n        className=\"ce-add-member-option\"\n        style={{ ...styles.optionStyle, ...props.optionStyle }}\n        onClick={() => onInvitePersonClick && onInvitePersonClick(person)}\n      >\n        {person.username}\n      </div>\n    );\n  };\n\n  if (props.renderPeopleSettings) {\n    return <>{props.renderPeopleSettings(props)}</>;\n  }\n\n  return (\n    <Dropdown\n      id=\"ce-settings-people-dropdown\"\n      label=\"Members\"\n      style={{ ...styles.style, ...props.style }}\n    >\n      {renderChatPeople(chat.people)}\n\n      <Autocomplete\n        label=\"Add Member\"\n        options={peopleToInvite}\n        renderOption={renderChatPeopleOption}\n        style={{ ...styles.addMemberStyle, ...props.addMemberStyle }}\n        inputStyle={{\n          ...styles.addMemberInputStyle,\n          ...props.addMemberInputStyle,\n        }}\n      />\n    </Dropdown>\n  );\n};\n","export interface PhotosSettingsStyles {\n  style?: React.CSSProperties;\n  imageWrapperStyle?: React.CSSProperties;\n  imagePaddingStyle?: React.CSSProperties;\n  imageStyle?: React.CSSProperties;\n}\n\nexport const styles: PhotosSettingsStyles = {\n  style: {},\n  imageWrapperStyle: {\n    position: 'relative',\n    width: '33.3%',\n    display: 'inline-block',\n    cursor: 'pointer',\n  },\n  imagePaddingStyle: { paddingTop: '100%' },\n  imageStyle: {\n    top: '0px',\n    width: '100%',\n    height: '100%',\n    position: 'absolute',\n    objectFit: 'cover',\n    padding: '0px',\n    borderRadius: '0px',\n  },\n};\n","import React from 'react';\n\nimport { PhotosSettingsProps } from './props';\nimport { styles } from './styles';\n\nimport { Image } from '../../../Components/Image';\nimport { Dropdown } from '../../../Components/Dropdown';\nimport { AttachmentObject } from '../../../../interfaces';\nimport { isImage, getFileName } from '../../../util/file';\n\nexport const PhotosSettings: React.FC<PhotosSettingsProps> = (\n  props: PhotosSettingsProps\n) => {\n  const { chat = { attachments: [] } } = props;\n  const renderImages = (attachments: Array<AttachmentObject>) => {\n    return attachments.map((attachment, index) => {\n      const fileName = getFileName(attachment.file);\n      if (isImage(fileName)) {\n        return (\n          <div\n            key={`photo-${index}`}\n            style={{ ...styles.imageWrapperStyle, ...props.imageWrapperStyle }}\n          >\n            <div\n              style={{\n                ...styles.imagePaddingStyle,\n                ...props.imagePaddingStyle,\n              }}\n            />\n\n            <Image\n              key={`attachment_${index}`}\n              className=\"ce-settings-image\"\n              url={attachment.file !== null ? attachment.file : undefined}\n              style={{ ...styles.imageStyle, ...props.imageStyle }}\n            />\n          </div>\n        );\n      }\n      return <span key={`photo-${index}`} />;\n    });\n  };\n\n  if (props.renderPhotosSettings) {\n    return <>{props.renderPhotosSettings(props)}</>;\n  }\n\n  return (\n    <Dropdown\n      id=\"ce-settings-photos-dropdown\"\n      label=\"Photos\"\n      style={{ ...styles.style, ...props.style }}\n    >\n      {renderImages(chat.attachments)}\n    </Dropdown>\n  );\n};\n","export interface OptionsSettingsStyles {\n  style?: React.CSSProperties;\n  deleteChatButtonStyle?: React.CSSProperties;\n}\n\nexport const styles: OptionsSettingsStyles = {\n  style: {},\n  deleteChatButtonStyle: {\n    width: 'calc(100% - 24px)',\n    position: 'relative',\n    left: '12px',\n  },\n};\n","import React from 'react';\n\nimport { OptionsSettingsProps } from './props';\nimport { styles } from './styles';\n\nimport { Button } from '../../../Components/Button';\nimport { Dropdown } from '../../../Components/Dropdown';\n\nexport const OptionsSettings: React.FC<OptionsSettingsProps> = (\n  props: OptionsSettingsProps\n) => {\n  if (props.renderOptionsSettings) {\n    return <>{props.renderOptionsSettings(props)}</>;\n  }\n\n  return (\n    <Dropdown\n      id=\"ce-settings-options-dropdown\"\n      label=\"Options\"\n      style={{ ...styles.style, ...props.style }}\n    >\n      <Button\n        type=\"danger\"\n        onClick={() =>\n          props.onDeleteChatClick &&\n          props.chat &&\n          props.onDeleteChatClick(props.chat)\n        }\n        style={{\n          ...styles.deleteChatButtonStyle,\n          ...props.deleteChatButtonStyle,\n        }}\n      >\n        Delete this Chat\n      </Button>\n    </Dropdown>\n  );\n};\n","import React from 'react';\n\nimport { ChatSettingsProps } from './props';\nimport { styles } from './styles';\n\nimport { ChatAvatars } from './ChatAvatars';\nimport { PeopleSettings } from './PeopleSettings';\nimport { PhotosSettings } from './PhotosSettings';\nimport { OptionsSettings } from './OptionsSettings';\n\nexport const ChatSettings: React.FC<ChatSettingsProps> = (\n  props: ChatSettingsProps\n) => {\n  const { chat } = props;\n\n  if (props.renderChatSettings) {\n    return <>{props.renderChatSettings(props)}</>;\n  }\n\n  const people = chat ? chat.people.map((chatPerson) => chatPerson.person) : [];\n\n  const otherPerson =\n    chat &&\n    chat.people.find((person) => person.person.username !== props.username);\n  const title =\n    props.isLoading || !chat\n      ? ''\n      : chat.is_direct_chat && otherPerson\n      ? otherPerson.person.username\n      : chat.title;\n\n  return (\n    <div\n      className=\"ce-chat-settings\"\n      style={{ ...styles.style, ...props.style }}\n    >\n      <ChatAvatars\n        users={people}\n        username={props.username}\n        renderChatAvatars={props.renderChatAvatars}\n      />\n\n      <div\n        className=\"ce-chat-settings-title\"\n        style={{ ...styles.chatTitleStyle, ...props.chatTitleStyle }}\n      >\n        {title}\n      </div>\n\n      <PeopleSettings\n        chat={chat}\n        peopleToInvite={props.peopleToInvite}\n        canDelete={chat && props.username === chat.admin.username}\n        onInvitePersonClick={props.onInvitePersonClick}\n        onRemovePersonClick={props.onRemovePersonClick}\n        renderPeopleSettings={props.renderPeopleSettings}\n        style={{ ...styles.peopleSettingsStyle, ...props.peopleSettingsStyle }}\n      />\n\n      <PhotosSettings\n        chat={chat}\n        renderPhotosSettings={props.renderPhotosSettings}\n        style={{ ...styles.photosSettingsStyle, ...props.photosSettingsStyle }}\n      />\n\n      <OptionsSettings\n        chat={chat}\n        onDeleteChatClick={props.onDeleteChatClick}\n        renderOptionsSettings={props.renderOptionsSettings}\n        style={{\n          ...styles.optionsSettingsStyle,\n          ...props.optionsSettingsStyle,\n        }}\n      />\n    </div>\n  );\n};\n","import React, { useEffect, useState } from 'react';\n\nimport { MultiChatWindowProps } from './props';\nimport { styles } from './styles';\n\nimport { ChatList } from './ChatList';\nimport { ChatFeed } from './ChatFeed';\nimport { ChatSettings } from './ChatSettings';\nimport { ChatAvatars } from './ChatSettings/ChatAvatars';\nimport { ChatAvatarsProps } from './ChatSettings/ChatAvatars/props';\nimport { Button } from '../Components/Button';\n\nimport {\n  UnorderedListOutlined,\n  SettingOutlined,\n  CloseOutlined,\n} from '@ant-design/icons';\n\nimport { Row, Col } from 'react-grid-system';\nimport { setConfiguration } from 'react-grid-system';\n\nsetConfiguration({ maxScreenClass: 'xl', gutterWidth: 0 });\n\nexport const MultiChatWindow: React.FC<MultiChatWindowProps> = (\n  props: MultiChatWindowProps\n) => {\n  if (typeof window == 'undefined') return <div />;\n\n  const { chats = [], activeChatId = -1, messages = [] } = props;\n  const [isMobile, setIsMobile] = useState(window.innerWidth < 575);\n  const chat = chats.find((chat) => chat.id === activeChatId);\n\n  useEffect(() => {\n    function handleResize() {\n      setIsMobile(window.innerWidth < 575);\n    }\n    window.addEventListener('resize', handleResize);\n  });\n\n  const renderChatList = () => {\n    return (\n      <ChatList\n        chats={chats}\n        activeChatId={activeChatId}\n        username={props.username}\n        timezoneOffset={props.timezoneOffset}\n        isLoading={props.isChatListLoading}\n        hasMoreChats={props.hasMoreChats}\n        onChatFormSubmit={props.onChatFormSubmit}\n        onChatCardClick={props.onChatCardClick}\n        onChatLoaderShow={props.onChatLoaderShow}\n        renderChatList={props.renderChatList}\n        renderChatForm={props.renderChatForm}\n        renderChatCard={props.renderChatCard}\n        style={{\n          position: isMobile ? 'absolute' : 'inherit',\n          zIndex: isMobile ? 1 : 'inherit',\n        }}\n      />\n    );\n  };\n\n  const renderChatSettings = () => {\n    return (\n      <ChatSettings\n        chat={chat}\n        username={props.username}\n        peopleToInvite={props.peopleToInvite}\n        isLoading={props.isChatSettingsLoading}\n        onInvitePersonClick={props.onInvitePersonClick}\n        onRemovePersonClick={props.onRemovePersonClick}\n        onDeleteChatClick={props.onDeleteChatClick}\n        renderChatSettings={props.renderChatSettings}\n        renderChatAvatars={(chatAvatarsProps) =>\n          (\n            <>\n              <ChatAvatars\n                {...chatAvatarsProps}\n                renderChatAvatars={props.renderChatAvatars}\n              />\n              {isMobile && (\n                <Button\n                  onClick={props.onCloseMobileChatSettingsClick}\n                  style={{ position: 'absolute', top: '12px', right: '12px' }}\n                >\n                  <CloseOutlined />\n                </Button>\n              )}\n            </>\n          ) as unknown as React.FC<ChatAvatarsProps>\n        }\n        renderPeopleSettings={props.renderPeopleSettings}\n        renderPhotosSettings={props.renderPhotosSettings}\n        renderOptionsSettings={props.renderOptionsSettings}\n        style={{\n          position: isMobile ? 'absolute' : 'inherit',\n          zIndex: isMobile ? 1 : 'inherit',\n        }}\n      />\n    );\n  };\n\n  return (\n    <Row className=\"ce-chat-engine\" style={{ ...styles.style, ...props.style }}>\n      <Col\n        xs={0}\n        sm={3}\n        className=\"ce-chat-list-column\"\n        style={{ ...styles.chatListColumnStyle, ...props.chatListColumnStyle }}\n      >\n        {renderChatList()}\n      </Col>\n\n      <Col\n        xs={12}\n        sm={6}\n        className=\"ce-chat-feed-column\"\n        style={{ ...styles.chatFeedColumnStyle, ...props.chatFeedColumnStyle }}\n      >\n        <ChatFeed\n          chat={chat}\n          messages={messages}\n          username={props.username}\n          timezoneOffset={props.timezoneOffset}\n          isLoading={props.isChatFeedLoading}\n          hasMoreMessages={props.hasMoreMessages}\n          onMessageLoaderShow={props.onMessageLoaderShow}\n          onMessageLoaderHide={props.onMessageLoaderHide}\n          onBottomMessageShow={props.onBottomMessageShow}\n          onBottomMessageHide={props.onBottomMessageHide}\n          onMessageFormSubmit={props.onMessageFormSubmit}\n          renderChatFeed={props.renderChatFeed}\n          renderChatHeader={props.renderChatHeader}\n          renderMessageList={props.renderMessageList}\n          renderMessage={props.renderMessage}\n          renderWelcomeGif={props.renderWelcomeGif}\n          renderMessageForm={props.renderMessageForm}\n        />\n      </Col>\n\n      <Col\n        xs={0}\n        sm={3}\n        className=\"ce-chat-settings-column\"\n        style={{\n          ...styles.chatSettingsColumnStyle,\n          ...props.chatSettingsColumnStyle,\n        }}\n      >\n        {renderChatSettings()}\n      </Col>\n\n      <Button\n        onClick={props.onMobileChatListClick}\n        className=\"ce-mobile-chat-list-button\"\n        style={{\n          ...styles.chatListMobileButtonStyle,\n          ...{ display: isMobile ? 'inherit' : 'none' },\n          ...props.chatListMobileButtonStyle,\n        }}\n      >\n        <UnorderedListOutlined />\n      </Button>\n\n      {isMobile && props.isMobileChatListOpen && renderChatList()}\n\n      <Button\n        onClick={props.onMobileChatSettingsClick}\n        className=\"ce-mobile-chat-settings-button\"\n        style={{\n          ...styles.chatSettingsMobileButtonStyle,\n          ...{ display: isMobile ? 'inherit' : 'none' },\n          ...props.chatSettingsMobileButtonStyle,\n        }}\n      >\n        <SettingOutlined />\n      </Button>\n\n      {isMobile && props.isMobileChatSettingsOpen && renderChatSettings()}\n    </Row>\n  );\n};\n","import { animateScroll } from 'react-scroll';\n\nexport const scrollToBottom = (duration: number, containerId: string) => {\n  if (document.getElementById(containerId)) {\n    animateScroll.scrollToBottom({\n      duration: duration,\n      containerId: containerId,\n    });\n  }\n};\n","import { useState, useEffect, useRef } from 'react';\n\nimport {\n  ChatObject,\n  MessageObject,\n  PersonObject,\n  UserAuthHeaders,\n} from '../interfaces';\nimport { getDateTime } from '../components/util/dateTime';\n\nimport {\n  getChatsBefore,\n  newChat,\n  deleteChat,\n  getPeopleToInvite,\n  invitePerson,\n  removePerson,\n  getMessages,\n  newMessage,\n  readMessage,\n} from '../actions';\n\nimport { animateScroll } from 'react-scroll';\nimport { scrollToBottom } from './shared';\n\nconst chatCountIterator = 20;\nconst messageCountIterator = 50;\n\nexport const sortChats = (chats: ChatObject[]) => {\n  return chats.sort((a: ChatObject, b: ChatObject) => {\n    const aDate =\n      a.last_message && a.last_message.created\n        ? getDateTime(a.last_message.created)\n        : getDateTime(a.created);\n    const bDate =\n      b.last_message && b.last_message.created\n        ? getDateTime(b.last_message.created)\n        : getDateTime(b.created);\n    return new Date(bDate).getTime() - new Date(aDate).getTime();\n  });\n};\n\nexport const sortMessages = (messages: MessageObject[]) => {\n  return messages.sort((a: MessageObject, b: MessageObject) => {\n    return new Date(b.created).getTime() - new Date(a.created).getTime();\n  });\n};\n\nexport const useMultiChatLogic = (\n  projectId: string,\n  username: string,\n  secret: string,\n  httpUrl?: string\n) => {\n  const host = httpUrl ? httpUrl : 'https://api.chatengine.io';\n  const headers: UserAuthHeaders = {\n    'Public-Key': projectId,\n    'User-Name': username,\n    'User-Secret': secret,\n  };\n\n  // Data\n  const [activeChatId, setActiveChatId] = useState<number | undefined>();\n  const [chats, setChats] = useState<ChatObject[]>([]);\n  const [messages, setMessages] = useState<MessageObject[]>([]);\n  const [peopleToInvite, setPeopleToInvite] = useState<PersonObject[]>([]);\n\n  // State\n  const [hasMoreChats, setHasMoreChats] = useState<boolean>(false);\n  const [hasMoreMessages, setHasMoreMessages] = useState<boolean>(false);\n  const [isChatFeedAtBottom, setIsChatFeedAtBottom] = useState<boolean>(false);\n  const [isChatListLoading, setIsChatListLoading] = useState<boolean>(true);\n  const [isChatFeedLoading, setIsChatFeedLoading] = useState<boolean>(true);\n  const [isChatSettingsLoading, setIsChatSettingsLoading] =\n    useState<boolean>(true);\n  const [isMobileChatListOpen, setIsMobileChatListOpen] =\n    useState<boolean>(false);\n  const [isMobileChatSettingsOpen, setIsMobileChatSettingsOpen] =\n    useState<boolean>(false);\n\n  // Subscribe to Chat & Message Count\n  const chatCountRef = useRef<number>(0);\n  chatCountRef.current = chats.length;\n  const messageCountRef = useRef<number>(0);\n  messageCountRef.current = messages.length;\n  const chat = chats.find((chat) => chat.id === activeChatId);\n\n  // Fetch data on mount\n  const didMountRef = useRef<boolean>(false);\n  useEffect(() => {\n    if (!didMountRef.current) {\n      didMountRef.current = true;\n      fetchMultiChatData();\n    }\n  }, []);\n\n  useEffect(() => {\n    const chat = chats.find((chat) => chat.id === activeChatId);\n    const chatPerson = chat?.people.find(\n      (chatPerson) => chatPerson.person.username === username\n    );\n\n    if (\n      activeChatId &&\n      chat?.last_message.id && // If there is a message\n      chat.last_message.id !== chatPerson?.last_read &&\n      isChatFeedAtBottom\n    ) {\n      readMessage(host, headers, activeChatId, chat.last_message.id, () => {});\n    }\n  }, [chats, activeChatId, isChatFeedAtBottom]);\n\n  async function fetchMultiChatData() {\n    const now = new Date()\n      .toISOString()\n      .replace('T', ' ')\n      .replace('Z', `${Math.floor(Math.random() * 1000)}+00:00`);\n\n    getChatsBefore(\n      host,\n      headers,\n      now,\n      chatCountRef.current > 0 ? chatCountRef.current : chatCountIterator,\n      (chats) => {\n        onGetChats(chats);\n\n        let currentChat = activeChatId;\n        if (!activeChatId && chats.length > 0) {\n          currentChat = chats[0].id;\n        }\n\n        currentChat\n          ? onChatCardClick(currentChat)\n          : setIsChatFeedLoading(false);\n      }\n    );\n    return;\n  }\n\n  async function onGetChats(chats: ChatObject[] = []) {\n    setHasMoreChats(chats.length >= chatCountRef.current + chatCountIterator);\n\n    const sortedChats = sortChats(chats);\n\n    setChats(sortedChats);\n    setIsChatListLoading(false);\n    return;\n  }\n\n  async function onNewChat(chat: ChatObject) {\n    const newChats = [chat].concat(chats ? chats : []);\n\n    setChats(newChats);\n    return;\n  }\n\n  async function onEditChat(newChat: ChatObject) {\n    const otherChats = chats\n      ? chats.filter((chat) => chat.id !== newChat.id)\n      : [];\n    const newChats = [newChat].concat(otherChats);\n    const sortedChats = sortChats(newChats);\n\n    setChats(sortedChats);\n    return;\n  }\n\n  async function onDeleteChat(oldChat: ChatObject) {\n    const newChats = chats\n      ? chats.filter((chat) => chat.id !== oldChat.id)\n      : [];\n\n    setChats(newChats);\n\n    if (newChats.length > 0 && activeChatId === oldChat.id)\n      onChatCardClick(newChats[0].id);\n    return;\n  }\n\n  async function onGetMessages(chatId: number, messages: MessageObject[]) {\n    setHasMoreMessages(\n      messages.length >= messageCountRef.current + messageCountIterator\n    );\n    setMessages(messages);\n\n    void chatId;\n    return;\n  }\n\n  async function onNewMessage(chatId: number, newMessage: MessageObject) {\n    if (activeChatId === chatId) {\n      const otherMessages = messages\n        ? messages.filter((message) => message.created !== newMessage.created)\n        : [];\n      const newMessages = otherMessages.concat(newMessage);\n      const sortedMessages = sortMessages(newMessages);\n\n      setMessages(sortedMessages);\n      if (isChatFeedAtBottom) {\n        scrollToBottom(333, `ce-message-list-${activeChatId}`);\n      }\n    }\n    return;\n  }\n\n  async function onEditMessage(chatId: number, newMessage: MessageObject) {\n    if (chatId === activeChatId) {\n      const otherMessages = messages\n        ? messages.filter((message) => message.id !== newMessage.id)\n        : [];\n      const newMessages = [newMessage].concat(otherMessages);\n      const sortedMessages = sortMessages(newMessages);\n      setMessages(sortedMessages);\n    }\n    return;\n  }\n\n  async function onDeleteMessage(chatId: number, oldMessage: MessageObject) {\n    if (chatId === activeChatId) {\n      const newMessages = messages\n        ? messages.filter((message) => message.id !== oldMessage.id)\n        : [];\n      setMessages(newMessages);\n    }\n    return;\n  }\n\n  async function onConnect() {\n    fetchMultiChatData();\n    return;\n  }\n\n  async function onAuthFail() {}\n\n  async function onChatFormSubmit(title: string) {\n    newChat(host, headers, title, (chat) => {\n      onNewChat(chat);\n      onChatCardClick(chat.id);\n    });\n    return;\n  }\n\n  async function onChatCardClick(newActiveChatId: number) {\n    if (newActiveChatId !== activeChatId) {\n      setIsChatFeedLoading(true);\n      setIsChatSettingsLoading(true);\n    }\n\n    setActiveChatId(newActiveChatId);\n    setIsMobileChatListOpen(false);\n\n    getMessages(\n      host,\n      headers,\n      newActiveChatId,\n      messageCountIterator,\n      (chatId, messages) => {\n        onGetMessages(chatId, messages);\n        setIsChatFeedLoading(false);\n        setIsChatSettingsLoading(false);\n        scrollToBottom(0, `ce-message-list-${activeChatId}`);\n      }\n    );\n\n    getPeopleToInvite(host, headers, newActiveChatId, setPeopleToInvite);\n    return;\n  }\n\n  async function onChatLoaderShow() {\n    const now = new Date()\n      .toISOString()\n      .replace('T', ' ')\n      .replace('Z', `0000+00:00`);\n\n    getChatsBefore(\n      host,\n      headers,\n      now,\n      chatCountRef.current + chatCountIterator,\n      onGetChats\n    );\n    return;\n  }\n\n  async function onMessageFormSubmit(message: MessageObject) {\n    const newMessages = messages?.concat(message);\n    setMessages(newMessages);\n\n    newMessage(host, headers, activeChatId, message, () => {});\n\n    setTimeout(() => {\n      scrollToBottom(333, `ce-message-list-${activeChatId}`);\n    }, 100);\n    return;\n  }\n\n  async function onInvitePersonClick(person: PersonObject) {\n    activeChatId &&\n      invitePerson(host, headers, activeChatId, person.username, () =>\n        onChatCardClick(activeChatId)\n      );\n  }\n\n  async function onRemovePersonClick(person: PersonObject) {\n    activeChatId &&\n      removePerson(host, headers, activeChatId, person.username, () =>\n        onChatCardClick(activeChatId)\n      );\n    return;\n  }\n\n  async function onDeleteChatClick(chat: ChatObject) {\n    deleteChat(host, headers, chat.id, onDeleteChat);\n    return;\n  }\n\n  async function onBottomMessageShow() {\n    setIsChatFeedAtBottom(true);\n    return;\n  }\n\n  async function onBottomMessageHide() {\n    setIsChatFeedAtBottom(false);\n    return;\n  }\n\n  async function onMessageLoaderShow() {\n    const scrollContainerId = `ce-message-list-${activeChatId}`;\n    const messageListId = `ce-message-list-content-${activeChatId}`;\n\n    const currentElement = document.getElementById(messageListId);\n    let currentHeight = currentElement ? currentElement.clientHeight : 0;\n\n    activeChatId &&\n      getMessages(\n        host,\n        headers,\n        activeChatId,\n        messageCountRef.current + messageCountIterator,\n        (chatId, messages) => {\n          onGetMessages(chatId, messages);\n\n          setTimeout(() => {\n            const element = document.getElementById(messageListId);\n            if (element) {\n              animateScroll.scrollTo(element.clientHeight - currentHeight, {\n                duration: 333,\n                containerId: scrollContainerId,\n              });\n            }\n          }, 1000);\n        }\n      );\n    return;\n  }\n\n  async function onMessageLoaderHide() {\n    return;\n  }\n\n  async function onIsTyping(id: number, person: PersonObject) {\n    void id, person;\n    return;\n  }\n\n  async function onMobileChatListClick() {\n    setIsMobileChatListOpen(true);\n    return;\n  }\n\n  async function onMobileChatSettingsClick() {\n    setIsMobileChatSettingsOpen(true);\n    return;\n  }\n\n  async function onCloseMobileChatSettingsClick() {\n    setIsMobileChatSettingsOpen(false);\n    return;\n  }\n\n  return {\n    // Socket Hooks\n    onConnect,\n    onAuthFail,\n    onGetChats,\n    onNewChat,\n    onEditChat,\n    onDeleteChat,\n    onGetMessages,\n    onNewMessage,\n    onEditMessage,\n    onDeleteMessage,\n    onIsTyping,\n    // Auth Data\n    projectId,\n    username,\n    // file deepcode ignore HardcodedNonCryptoSecret: <not a secret>\n    secret,\n    httpUrl,\n    wsUrl: httpUrl && httpUrl.replace('http', 'ws'),\n    // Chat Data\n    chats,\n    setChats,\n    messages,\n    setMessages,\n    peopleToInvite,\n    setPeopleToInvite,\n    // Chat State\n    activeChatId,\n    setActiveChatId,\n    chat,\n    hasMoreChats,\n    setHasMoreChats,\n    hasMoreMessages,\n    setHasMoreMessages,\n    isChatFeedAtBottom,\n    setIsChatFeedAtBottom,\n    isChatListLoading,\n    setIsChatListLoading,\n    isChatFeedLoading,\n    setIsChatFeedLoading,\n    isChatSettingsLoading,\n    setIsChatSettingsLoading,\n    isMobileChatListOpen,\n    setIsMobileChatListOpen,\n    isMobileChatSettingsOpen,\n    setIsMobileChatSettingsOpen,\n    // Component Hooks\n    onChatFormSubmit,\n    onChatCardClick,\n    onChatLoaderShow,\n    onMessageLoaderShow,\n    onMessageLoaderHide,\n    onBottomMessageShow,\n    onBottomMessageHide,\n    onMessageFormSubmit,\n    onInvitePersonClick,\n    onRemovePersonClick,\n    onDeleteChatClick,\n    onMobileChatListClick,\n    onMobileChatSettingsClick,\n    onCloseMobileChatSettingsClick,\n  };\n};\n","import { useState, useEffect, useRef } from 'react';\n\nimport { ChatObject, MessageObject, PersonObject } from '../interfaces';\nimport { getDateTime } from '../components/util/dateTime';\n\nimport { getChat, getMessages, newMessage } from '../actions';\n\nimport { animateScroll } from 'react-scroll';\nimport { scrollToBottom } from './shared';\nimport { ChatAuthHeaders } from '../interfaces';\n\nconst messageCountIterator = 50;\n\nexport const sortChats = (chats: ChatObject[]) => {\n  return chats.sort((a: ChatObject, b: ChatObject) => {\n    const aDate =\n      a.last_message && a.last_message.created\n        ? getDateTime(a.last_message.created)\n        : getDateTime(a.created);\n    const bDate =\n      b.last_message && b.last_message.created\n        ? getDateTime(b.last_message.created)\n        : getDateTime(b.created);\n    return new Date(bDate).getTime() - new Date(aDate).getTime();\n  });\n};\n\nexport const sortMessages = (messages: MessageObject[]) => {\n  return messages.sort((a: MessageObject, b: MessageObject) => {\n    return new Date(b.created).getTime() - new Date(a.created).getTime();\n  });\n};\n\nexport const useSingleChatLogic = (\n  projectId: string,\n  chatId: string,\n  chatAccessKey: string,\n  httpUrl?: string\n) => {\n  const host = httpUrl ? httpUrl : 'https://api.chatengine.io';\n  const headers: ChatAuthHeaders = {\n    'Public-Key': projectId,\n    'Chat-ID': chatId,\n    'Access-Key': chatAccessKey,\n  };\n\n  // Data\n  const [activeChatId, setActiveChatId] = useState<number | undefined>();\n  const [chat, setChat] = useState<ChatObject | undefined>();\n  const [messages, setMessages] = useState<MessageObject[]>([]);\n  const [peopleToInvite, setPeopleToInvite] = useState<PersonObject[]>([]);\n\n  // State\n  const [hasMoreChats, setHasMoreChats] = useState<boolean>(false);\n  const [hasMoreMessages, setHasMoreMessages] = useState<boolean>(false);\n  const [isChatFeedAtBottom, setIsChatFeedAtBottom] = useState<boolean>(false);\n  const [isChatFeedLoading, setIsChatFeedLoading] = useState<boolean>(true);\n\n  // Subscribe to Chat & Message Count\n  const chatCountRef = useRef<number>(0);\n  chatCountRef.current = chat ? 1 : 0;\n  const messageCountRef = useRef<number>(0);\n  messageCountRef.current = messages.length;\n\n  // Fetch data on mount\n  const didMountRef = useRef<boolean>(false);\n  useEffect(() => {\n    if (!didMountRef.current) {\n      didMountRef.current = true;\n      fetchSingleChatData();\n    }\n  }, []);\n\n  async function fetchSingleChatData() {\n    getChat(host, headers, chatId, (chat) => {\n      setChat(chat);\n      onChatCardClick(chat.id);\n    });\n  }\n\n  async function onEditChat(chat: ChatObject) {\n    setChat(chat);\n  }\n\n  async function onDeleteChat() {\n    setChat(undefined);\n    setActiveChatId(undefined);\n  }\n\n  async function onGetMessages(chatId: number, messages: MessageObject[]) {\n    setHasMoreMessages(\n      messages.length >= messageCountRef.current + messageCountIterator\n    );\n    setMessages(messages);\n    setIsChatFeedLoading(false);\n    void chatId;\n  }\n\n  async function onNewMessage(chatId: number, newMessage: MessageObject) {\n    if (activeChatId === chatId) {\n      const otherMessages = messages\n        ? messages.filter((message) => message.created !== newMessage.created)\n        : [];\n      const newMessages = otherMessages.concat(newMessage);\n      const sortedMessages = sortMessages(newMessages);\n\n      setMessages(sortedMessages);\n      if (isChatFeedAtBottom) {\n        scrollToBottom(333, `ce-message-list-${activeChatId}`);\n      }\n    }\n  }\n\n  async function onEditMessage(chatId: number, newMessage: MessageObject) {\n    if (chatId === activeChatId) {\n      const otherMessages = messages\n        ? messages.filter((message) => message.id !== newMessage.id)\n        : [];\n      const newMessages = [newMessage].concat(otherMessages);\n      const sortedMessages = sortMessages(newMessages);\n      setMessages(sortedMessages);\n    }\n  }\n\n  async function onDeleteMessage(chatId: number, oldMessage: MessageObject) {\n    if (chatId === activeChatId) {\n      const newMessages = messages\n        ? messages.filter((message) => message.id !== oldMessage.id)\n        : [];\n      setMessages(newMessages);\n    }\n  }\n\n  async function onConnect() {\n    fetchSingleChatData();\n  }\n\n  async function onAuthFail() {}\n\n  async function onChatCardClick(activeChatId: number) {\n    setActiveChatId(activeChatId);\n\n    getMessages(\n      host,\n      headers,\n      activeChatId,\n      messageCountIterator,\n      (chatId, messages) => {\n        onGetMessages(chatId, messages);\n        scrollToBottom(0, `ce-message-list-${activeChatId}`);\n      }\n    );\n  }\n\n  async function onMessageFormSubmit(message: MessageObject) {\n    const newMessages = messages?.concat(message);\n    setMessages(newMessages);\n\n    newMessage(host, headers, activeChatId, message, () => {});\n\n    setTimeout(() => {\n      scrollToBottom(333, `ce-message-list-${activeChatId}`);\n    }, 100);\n  }\n\n  async function onBottomMessageShow() {\n    setIsChatFeedAtBottom(true);\n  }\n\n  async function onBottomMessageHide() {\n    setIsChatFeedAtBottom(false);\n  }\n\n  async function onMessageLoaderShow() {\n    const scrollContainerId = `ce-message-list-${activeChatId}`;\n    const messageListId = `ce-message-list-content-${activeChatId}`;\n\n    const currentElement = document.getElementById(messageListId);\n    let currentHeight = currentElement ? currentElement.clientHeight : 0;\n\n    activeChatId &&\n      getMessages(\n        host,\n        headers,\n        activeChatId,\n        messageCountRef.current + messageCountIterator,\n        (chatId, messages) => {\n          onGetMessages(chatId, messages);\n\n          setTimeout(() => {\n            const element = document.getElementById(messageListId);\n            if (element) {\n              animateScroll.scrollTo(element.clientHeight - currentHeight, {\n                duration: 333,\n                containerId: scrollContainerId,\n              });\n            }\n          }, 1000);\n        }\n      );\n  }\n\n  async function onMessageLoaderHide() {}\n\n  async function onIsTyping(id: number, person: PersonObject) {\n    void id, person;\n  }\n\n  return {\n    // Socket Hooks\n    onConnect,\n    onAuthFail,\n    onEditChat,\n    onDeleteChat,\n    onGetMessages,\n    onNewMessage,\n    onEditMessage,\n    onDeleteMessage,\n    onIsTyping,\n    // Auth Data\n    projectId,\n    chatId,\n    chatAccessKey,\n    httpUrl,\n    wsUrl: httpUrl && httpUrl.replace('http', 'ws'),\n    // Chat Data\n    activeChatId,\n    setActiveChatId,\n    chat,\n    messages,\n    setMessages,\n    peopleToInvite,\n    setPeopleToInvite,\n    // Chat State\n    hasMoreChats,\n    setHasMoreChats,\n    hasMoreMessages,\n    setHasMoreMessages,\n    isChatFeedAtBottom,\n    setIsChatFeedAtBottom,\n    isChatFeedLoading,\n    setIsChatFeedLoading,\n    // Component Hooks\n    onChatCardClick,\n    onMessageLoaderShow,\n    onMessageLoaderHide,\n    onBottomMessageShow,\n    onBottomMessageHide,\n    onMessageFormSubmit,\n  };\n};\n","import React from 'react';\n\nimport { Props } from './props';\n\nimport { WebSocket } from 'nextjs-websocket';\n\nexport const ChildSocket: React.FC<Props> = (props: Props) => {\n  const { sessionToken } = props;\n\n  const onMessage = (event: string) => {\n    const eventJSON = JSON.parse(event);\n    if (eventJSON.action === 'new_chat') {\n      props.onNewChat && props.onNewChat(eventJSON.data);\n    } else if (\n      eventJSON.action === 'edit_chat' ||\n      eventJSON.action === 'add_person' ||\n      eventJSON.action === 'remove_person'\n    ) {\n      props.onEditChat && props.onEditChat(eventJSON.data);\n    } else if (eventJSON.action === 'delete_chat') {\n      props.onDeleteChat && props.onDeleteChat(eventJSON.data);\n    } else if (eventJSON.action === 'new_message') {\n      const { id, message } = eventJSON.data;\n      props.onNewMessage && props.onNewMessage(id, message);\n    } else if (eventJSON.action === 'edit_message') {\n      const { id, message } = eventJSON.data;\n      props.onEditMessage && props.onEditMessage(id, message);\n    } else if (eventJSON.action === 'delete_message') {\n      const { id, message } = eventJSON.data;\n      props.onDeleteMessage && props.onDeleteMessage(id, message);\n    } else if (eventJSON.action === 'is_typing') {\n      const { id, person } = eventJSON.data;\n      props.onIsTyping && props.onIsTyping(id, person);\n    }\n  };\n\n  if (!sessionToken) return <div />;\n\n  const wsUrl = props.wsUrl ? props.wsUrl : 'wss://api.chatengine.io';\n\n  return (\n    <WebSocket\n      url={`${wsUrl}/person_v4/?session_token=${sessionToken}`}\n      reconnect={true}\n      reconnectIntervalInMilliSeconds={3000}\n      onOpen={props.onConnect}\n      onError={props.onError}\n      onMessage={onMessage}\n      onClose={() => {\n        props.onClose && props.onClose();\n        props.onRefresh && props.onRefresh();\n      }}\n    />\n  );\n};\n","import React, { useEffect, useState, useRef } from 'react';\n\nimport axios from 'axios';\n\nimport { Props } from './props';\n\nimport { ChildSocket } from './childSocket';\n\nimport { UserAuthHeaders } from '../../interfaces';\n\nconst getSessionToken = (\n  host: string,\n  headers: UserAuthHeaders,\n  callback: (token: string) => void,\n  error: () => void\n) => {\n  axios\n    .get(`${host}/users/me/session/`, { headers })\n    .then((response) => callback(response.data.token))\n    .catch(() => error());\n};\n\nexport const MultiChatSocket: React.FC<Props> = (props: Props) => {\n  const didMountRef = useRef(false);\n  const [isHidden, setIsHidden] = useState(false);\n  const [sessionToken, setToken] = useState<string | undefined>(undefined);\n\n  useEffect(() => {\n    if (!didMountRef.current) {\n      didMountRef.current = true;\n\n      const host = props.httpUrl ? props.httpUrl : 'https://api.chatengine.io';\n      const headers: UserAuthHeaders = {\n        'Public-Key': props.projectId,\n        'User-Name': props.username,\n        'User-Secret': props.secret,\n      };\n\n      getSessionToken(\n        host,\n        headers,\n        (token) => setToken(token),\n        () => {\n          console.log(\n            `Your login credentials were not correct: \\n\n              Project ID: ${props.projectId} \\n\n              Username: ${props.username} \\n\n              Secret: ${props.secret}\\n\n              Double check these credentials to make sure they're correct.\\n\n              If all three are correct, try resetting the username and secret in the Online Dashboard or Private API.`\n          );\n          props.onAuthFail && props.onAuthFail();\n        }\n      );\n    }\n  }, []);\n\n  async function reRender() {\n    setIsHidden(true);\n    setTimeout(() => setIsHidden(false), 100);\n  }\n\n  if (isHidden && sessionToken) return <div />;\n\n  return (\n    <ChildSocket\n      projectId={props.projectId}\n      username={props.username}\n      secret={props.secret}\n      sessionToken={sessionToken}\n      wsUrl={props.wsUrl}\n      onRefresh={reRender}\n      onConnect={props.onConnect}\n      onError={props.onError}\n      onClose={props.onClose}\n      onNewChat={props.onNewChat}\n      onEditChat={props.onEditChat}\n      onDeleteChat={props.onDeleteChat}\n      onNewMessage={props.onNewMessage}\n      onEditMessage={props.onEditMessage}\n      onDeleteMessage={props.onDeleteMessage}\n      onIsTyping={props.onIsTyping}\n    />\n  );\n};\n","import React, { useEffect, useState } from 'react';\n\nimport { Props } from './props';\n\nimport { WebSocket } from 'nextjs-websocket';\n\nlet socketRef: WebSocket = undefined;\nlet pingIntervalId: NodeJS.Timer;\nlet timeIntervalId: NodeJS.Timer;\n\nconst pingInterval = 4000;\nconst minLag = 15 * 1000;\n\nexport const ChildSocket: React.FC<Props> = (props: Props) => {\n  const [now, setNow] = useState(Date.now());\n  const [shouldPongBy, setShouldPongBy] = useState(Date.now() + minLag);\n\n  const { projectId, chatId, chatAccessKey } = props;\n\n  useEffect(() => {\n    if (now > shouldPongBy) {\n      props.onRefresh && props.onRefresh();\n      setShouldPongBy(Date.now() + minLag);\n    }\n  }, [now, shouldPongBy]);\n\n  useEffect(() => {\n    return () => {\n      clearInterval(pingIntervalId);\n      clearInterval(timeIntervalId);\n    };\n  }, []);\n\n  const onConnect = () => {\n    pingIntervalId = setInterval(() => {\n      try {\n        socketRef.sendMessage(JSON.stringify('ping'));\n      } catch (e) {\n        console.log('Ping error', e);\n      }\n    }, pingInterval);\n    timeIntervalId = setInterval(() => setNow(Date.now()), 1000);\n\n    props.onConnect && props.onConnect();\n  };\n\n  const onMessage = (event: string) => {\n    const eventJSON = JSON.parse(event);\n\n    if (eventJSON.action === 'pong') {\n      setShouldPongBy(Date.now() + minLag);\n    } else if (eventJSON.action === 'login_error') {\n      console.log(\n        `Your chat auth credentials were not correct: \\n\n                Project ID: ${projectId} \\n\n                Chat ID: ${chatId} \\n\n                Chat Access Key: ${chatAccessKey}\\n\n                Double check these credentials to make sure they're correct.\\n\n                If all three are correct, try resetting the username and secret in the Online Dashboard or Private API.`\n      );\n      props.onAuthFail && props.onAuthFail();\n    } else if (\n      eventJSON.action === 'edit_chat' ||\n      eventJSON.action === 'add_person' ||\n      eventJSON.action === 'remove_person'\n    ) {\n      props.onEditChat && props.onEditChat(eventJSON.data);\n    } else if (eventJSON.action === 'delete_chat') {\n      props.onDeleteChat && props.onDeleteChat(eventJSON.data);\n    } else if (eventJSON.action === 'new_message') {\n      const { id, message } = eventJSON.data;\n      props.onNewMessage && props.onNewMessage(id, message);\n    } else if (eventJSON.action === 'edit_message') {\n      const { id, message } = eventJSON.data;\n      props.onEditMessage && props.onEditMessage(id, message);\n    } else if (eventJSON.action === 'delete_message') {\n      const { id, message } = eventJSON.data;\n      props.onDeleteMessage && props.onDeleteMessage(id, message);\n    } else if (eventJSON.action === 'is_typing') {\n      const { id, person } = eventJSON.data;\n      props.onIsTyping && props.onIsTyping(id, person);\n    }\n  };\n\n  const wsUrl = props.wsUrl ? props.wsUrl : 'wss://api.chatengine.io';\n\n  return (\n    <WebSocket\n      url={`${wsUrl}/chat/?projectID=${projectId}&chatID=${chatId}&accessKey=${chatAccessKey}`}\n      reconnect={true}\n      reconnectIntervalInMilliSeconds={3000}\n      childRef={(ref: WebSocket) => (socketRef = ref)}\n      onOpen={onConnect}\n      onError={props.onError}\n      onMessage={onMessage}\n      onClose={() => {\n        props.onClose && props.onClose();\n        props.onRefresh && props.onRefresh();\n      }}\n    />\n  );\n};\n","import React, { useState, useEffect, useRef } from 'react';\n\nimport { Props } from './props';\n\nimport { ChildSocket } from './childSocket';\n\nexport const SingleChatSocket: React.FC<Props> = (props: Props) => {\n  const didMountRef = useRef(false);\n  const [isHidden, setIsHidden] = useState(false);\n\n  useEffect(() => {\n    if (!didMountRef.current) {\n      didMountRef.current = true;\n    }\n  }, []);\n\n  async function reRender() {\n    setIsHidden(true);\n    setTimeout(() => setIsHidden(false), 100);\n  }\n\n  if (isHidden) return <div />;\n\n  return (\n    <ChildSocket\n      projectId={props.projectId}\n      chatId={props.chatId}\n      chatAccessKey={props.chatAccessKey}\n      wsUrl={props.wsUrl}\n      onRefresh={reRender}\n      onConnect={props.onConnect}\n      onAuthFail={props.onAuthFail}\n      onError={props.onError}\n      onClose={props.onClose}\n      onEditChat={props.onEditChat}\n      onDeleteChat={props.onDeleteChat}\n      onNewMessage={props.onNewMessage}\n      onEditMessage={props.onEditMessage}\n      onDeleteMessage={props.onDeleteMessage}\n      onIsTyping={props.onIsTyping}\n    />\n  );\n};\n"],"names":["getMessages","host","headers","chatId","messageCount","callback","axios","get","then","response","data","error","console","log","newMessage","message","formdata","FormData","attachments","length","i","append","blob","file","text","created","sender_username","JSON","stringify","post","readMessage","messageId","patch","last_read","getChat","deleteChat","getChatsBefore","before","chatCount","put","getOrCreateChat","newChat","title","getPeopleToInvite","invitePerson","username","removePerson","styles","style","position","height","chatListColumnStyle","overflowY","chatFeedColumnStyle","borderRight","borderLeft","chatSettingsColumnStyle","chatListMobileButtonStyle","top","left","chatSettingsMobileButtonStyle","right","width","maxHeight","overflowX","backgroundColor","loadingMoreChatsStyle","fontFamily","textAlign","margin","paddingTop","paddingBottom","borderRadius","titleStyle","fontSize","fontWeight","inputStyle","buttonStyle","color","border","outline","cursor","padding","transition","WebkitTransition","MozTransition","hoveredStyle","opacity","Button","props","type","useState","hovered","setHovered","getTypeStyle","primaryStyle","dangerStyle","typeStyle","React","onClick","className","onMouseEnter","onMouseLeave","children","boxSizing","focusStyle","Input","didMountRef","useRef","currentValue","setCurrentValue","focused","setFocused","useEffect","current","defaultValue","event","target","value","onChange","autoFocus","placeholder","label","e","onFocus","onBlur","ChatForm","selected","setSelected","setValue","onSubmit","preventDefault","onFormSubmit","renderChatForm","visibility","colors","stringToNumber","str","sum","charCodeAt","stringToColor","backgroundRepeat","backgroundPosition","backgroundSize","lineHeight","statusStyle","Avatar","localAvatar","setLocalAvatar","avatarUrl","substring","toUpperCase","newAvatar","split","avatarUrlStyle","backgroundImage","display","isOnline","undefined","activeStyle","avatarStyle","whiteSpace","overflow","notificationStyle","subtitleStyle","bottom","timeStampStyle","loadingBarStyle","ChatCard","description","timeStamp","isLoading","hasNotificationStyle","hasNotification","renderChatCard","isActive","renderAvatar","avatarUsername","id","dangerouslySetInnerHTML","__html","RenderTrigger","useOnScreen","ref","isIntersecting","setIntersecting","observer","IntersectionObserver","entry","onShow","onHide","observe","disconnect","getDateTime","date","timezoneOffset","replace","year","substr","month","day","hour","minute","second","d","Date","setHours","getHours","formatTime","dateTime","time","toLocaleString","slice","formatDateTime","Spinner","viewBox","focusable","readLastMessage","chat","people","some","chatPerson","person","last_message","renderLoading","map","_","key","getDescription","ChatList","activeChatId","renderChats","chats","index","otherPerson","find","is_direct_chat","toString","onChatCardClick","sender","avatar","renderChatList","onChatFormSubmit","hasMoreChats","onChatLoaderShow","chatHeaderStyle","messageListStyle","messageFormStyle","zIndex","mobileOptionStyle","setConfiguration","maxScreenClass","gutterWidth","ChatHeader","renderChatHeader","Row","Col","xs","sm","messageStyle","theirStyles","senderUsernameStyle","paddingLeft","attachmentsStyle","bodyStyle","timeTagStyle","marginLeft","bubbleStyle","overflowWrap","maxWidth","readsStyle","readStyle","myStyles","marginRight","Dot","isVisible","DateTime","offset","marginBottom","images","isImage","fileName","dotSplit","indexOf","toLowerCase","getFileName","fileUrl","slashSplit","nameAndHash","urlOrLoading","url","File","isHovered","setIsHovered","window","open","minHeight","minWidth","objectFit","Image","loadingUrl","src","alt","Message","lastMessage","nextMessage","isSending","isMyMessage","showDateTime","topRadius","bottomRadius","borderStyle","sendingStyle","isLastMessage","renderAttachments","renderImage","attachment","attachmentsImageStyle","attachmentsFileStyle","renderReads","chatPeople","renderMessage","dateTimeStyle","MessageList","messages","messagesObject","mapKeys","keys","Object","sort","renderMessages","lastKey","nextKey","lastDate","thisDate","onBottomMessageShow","onBottomMessageHide","renderMessageList","hasMoreMessages","onMessageLoaderShow","onMessageLoaderHide","font","paddingRight","resize","sendButtonStyle","draftAttachmentStyle","draftAttachmentRemoveStyle","draftImageStyle","draftFileStyle","iconStyle","AttachmentInput","hoverStyle","onSelect","files","onSelectFiles","encType","htmlFor","multiple","MessageForm","iter","setIter","setHeight","buttonHover","setButtonHover","setAttachments","textarea","document","getElementById","Math","min","scrollHeight","toISOString","floor","random","localAttachments","name","custom_json","onKeyDown","onRemove","newAttachments","splice","Array","from","URL","createObjectURL","renderMessageForm","rows","attachmentInputStyle","attachmentInputIconStyle","gifStyle","textStyle","WelcomeGif","renderWelcomeGif","formattedDateTime","ChatFeed","renderChatFeed","onMessageFormSubmit","chatTitleStyle","oneAvatarStyle","avatarOne","twoAvatarsStyle","avatarTwo","threeAvatarsStyle","avatarThree","ChatAvatars","users","getStyle","getPeopleToRender","isDirectChat","topPeople","propsStyle","renderChatAvatars","usernameStyle","deleteButtonStyle","optionStyle","addMemberStyle","addMemberInputStyle","closeStyle","optionsStyle","emptyEvent","getOptions","options","maxVisibleOptions","filter","option","Autocomplete","showOptions","setShowOptions","addEventListener","handleClickOutside","removeEventListener","contains","renderOptions","max","renderOption","borderTop","barStyle","barHoveredStyle","bodyExpandedStyle","Dropdown","expanded","setExpanded","transform","fill","PeopleSettings","peopleToInvite","renderChatPeople","is_online","canDelete","onRemovePersonClick","renderChatPeopleOption","onInvitePersonClick","renderPeopleSettings","imageWrapperStyle","imagePaddingStyle","imageStyle","PhotosSettings","renderImages","renderPhotosSettings","deleteChatButtonStyle","OptionsSettings","renderOptionsSettings","onDeleteChatClick","ChatSettings","renderChatSettings","admin","peopleSettingsStyle","photosSettingsStyle","optionsSettingsStyle","MultiChatWindow","innerWidth","isMobile","setIsMobile","handleResize","isChatListLoading","isChatSettingsLoading","chatAvatarsProps","onCloseMobileChatSettingsClick","CloseOutlined","isChatFeedLoading","onMobileChatListClick","UnorderedListOutlined","isMobileChatListOpen","onMobileChatSettingsClick","SettingOutlined","isMobileChatSettingsOpen","scrollToBottom","duration","containerId","animateScroll","chatCountIterator","messageCountIterator","sortChats","a","b","aDate","bDate","getTime","sortMessages","useMultiChatLogic","projectId","secret","httpUrl","setActiveChatId","setChats","setMessages","setPeopleToInvite","setHasMoreChats","setHasMoreMessages","isChatFeedAtBottom","setIsChatFeedAtBottom","setIsChatListLoading","setIsChatFeedLoading","setIsChatSettingsLoading","setIsMobileChatListOpen","setIsMobileChatSettingsOpen","chatCountRef","messageCountRef","fetchMultiChatData","now","onGetChats","currentChat","sortedChats","onNewChat","newChats","concat","onEditChat","otherChats","onDeleteChat","oldChat","onGetMessages","onNewMessage","otherMessages","newMessages","sortedMessages","onEditMessage","onDeleteMessage","oldMessage","onConnect","onAuthFail","newActiveChatId","setTimeout","scrollContainerId","messageListId","currentElement","currentHeight","clientHeight","element","scrollTo","onIsTyping","wsUrl","useSingleChatLogic","chatAccessKey","setChat","fetchSingleChatData","ChildSocket","sessionToken","onMessage","eventJSON","parse","action","WebSocket","reconnect","reconnectIntervalInMilliSeconds","onOpen","onError","onClose","onRefresh","getSessionToken","token","MultiChatSocket","isHidden","setIsHidden","setToken","reRender","socketRef","pingIntervalId","timeIntervalId","pingInterval","minLag","setNow","shouldPongBy","setShouldPongBy","clearInterval","setInterval","sendMessage","childRef","SingleChatSocket"],"mappings":"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"}